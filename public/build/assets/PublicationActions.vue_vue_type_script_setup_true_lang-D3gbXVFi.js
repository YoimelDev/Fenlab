import{_ as p}from"./index-BBkj-YT3.js";import{_ as m}from"./Dialog.vue_vue_type_script_setup_true_lang-gkvh_ESS.js";import{t as c}from"./plyr-Dfp43WG1.js";import{f as _}from"./fenlab.api-XDaQ0-aL.js";import{_ as b}from"./PostDialog.vue_vue_type_script_setup_true_lang-B3bSwhEl.js";import{d as g,r as v,H as w,o as x,g as $,a as s,w as i,e as f,u as r}from"./app-DgHSjzJm.js";const k={class:"flex gap-2"},z=g({__name:"PublicationActions",props:{publication:{}},setup(d){const l=d,o=v(!1),n=w("$loading");async function u(){const t=n==null?void 0:n.show();try{const{data:a}=await _.post("",{method:"get",path:`projects/${l.publication.projectId}/assets/${l.publication.id}`}),e=a.assetPdf.url;window.open(e,"_blank","noopener"),c({variant:"info",title:"Publicación descargada exitosamente"})}catch{c({variant:"danger",title:"Error al descargar la publicación"})}finally{t==null||t.hide()}}return(t,a)=>(x(),$("div",k,[s(r(p),{variant:"ghost",size:"xs",onClick:u},{default:i(()=>[f(" Descargar ")]),_:1}),s(r(m),{open:o.value,"onUpdate:open":a[2]||(a[2]=e=>o.value=e)},{default:i(()=>[s(r(p),{variant:"ghost",size:"xs",onClick:a[0]||(a[0]=e=>o.value=!0)},{default:i(()=>[f(" Publicar ")]),_:1}),s(b,{asset:t.publication,onUpdated:a[1]||(a[1]=()=>o.value=!1)},null,8,["asset"])]),_:1},8,["open"])]))}});export{z as _};
