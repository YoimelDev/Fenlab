import{_ as p}from"./index-Bh-5e94q.js";import{_ as u}from"./Dialog.vue_vue_type_script_setup_true_lang-DnkzR6qP.js";import{t as d}from"./plyr-Lu3YwXfi.js";import{f as _}from"./fenlab.api-jpBUGwf9.js";import{_ as v}from"./PostDialog.vue_vue_type_script_setup_true_lang-CFDTnVvG.js";import{d as g,r as w,R as x,o as $,g as k,a as o,w as r,e as f,u as i}from"./app-BEe0jyxb.js";const A={class:"flex gap-2"},z=g({__name:"AssetActions",props:{asset:{}},setup(c){const l=c,a=w(!1),n=x("$loading");async function m(){const t=n==null?void 0:n.show();try{const{data:s}=await _.post("",{method:"get",path:`projects/${l.asset.projectId}/assets/${l.asset.id}`}),e=s.assetPdf.url;window.open(e,"_blank","noopener"),d({variant:"info",title:"Asset downloaded successfully"})}catch{d({variant:"danger",title:"Error downloading asset"})}finally{t==null||t.hide()}}return(t,s)=>($(),k("div",A,[o(i(p),{variant:"ghost",size:"xs",onClick:m},{default:r(()=>[f(" Descargar ")]),_:1}),o(i(u),{open:a.value,"onUpdate:open":s[2]||(s[2]=e=>a.value=e)},{default:r(()=>[o(i(p),{variant:"ghost",size:"xs",onClick:s[0]||(s[0]=e=>a.value=!0)},{default:r(()=>[f(" Solicitar publicaciÃ³n ")]),_:1}),o(v,{asset:t.asset,onUpdated:s[1]||(s[1]=()=>a.value=!1)},null,8,["asset"])]),_:1},8,["open"])]))}});export{z as _};
