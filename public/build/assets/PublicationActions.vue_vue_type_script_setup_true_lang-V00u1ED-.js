import{_ as p}from"./index-BoY7UMQP.js";import{_ as m}from"./Dialog.vue_vue_type_script_setup_true_lang-D_NY_MrZ.js";import{t as c}from"./plyr-Ciw4n68T.js";import{f as _}from"./fenlab.api-BFwA_jYR.js";import{_ as b}from"./NewPublicationDialog.vue_vue_type_script_setup_true_lang-D-jmxaWI.js";import{d as v,r as g,V as w,o as x,h as $,a as s,w as i,e as f,u as r}from"./app-Cq0wwRHW.js";const h={class:"flex gap-2"},V=v({__name:"PublicationActions",props:{publication:{}},setup(d){const l=d,o=g(!1),n=w("$loading");async function u(){const t=n==null?void 0:n.show();try{const{data:a}=await _.post("",{method:"get",path:`projects/${l.publication.projectId}/assets/${l.publication.id}`}),e=a.assetPdf.url;window.open(e,"_blank","noopener"),c({variant:"info",title:"Publicación descargada exitosamente"})}catch{c({variant:"danger",title:"Error al descargar la publicación"})}finally{t==null||t.hide()}}return(t,a)=>(x(),$("div",h,[s(r(p),{variant:"ghost",size:"xs",onClick:u},{default:i(()=>[f(" Descargar ")]),_:1}),s(r(m),{open:o.value,"onUpdate:open":a[2]||(a[2]=e=>o.value=e)},{default:i(()=>[s(r(p),{variant:"ghost",size:"xs",onClick:a[0]||(a[0]=e=>o.value=!0)},{default:i(()=>[f(" Publicar ")]),_:1}),s(b,{asset:t.publication,onUpdated:a[1]||(a[1]=()=>o.value=!1)},null,8,["asset"])]),_:1},8,["open"])]))}});export{V as _};
