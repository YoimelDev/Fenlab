import{u as G,C as P,V as J,r as j,W as H,G as W,X as K,Y as R,K as x,E as I,p as U}from"./app-C8mFXLlE.js";function X(e){return K()?(R(e),!0):!1}function D(e){return typeof e=="function"?e():G(e)}const Y=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const q=e=>typeof e<"u",B=Object.prototype.toString,Q=e=>B.call(e)==="[object Object]",Z=()=>{};function k(e,n){function t(...i){return new Promise((s,u)=>{Promise.resolve(e(()=>n.apply(this,i),{fn:n,thisArg:this,args:i})).then(s).catch(u)})}return t}const z=e=>e();function ee(e=z){const n=j(!0);function t(){n.value=!1}function i(){n.value=!0}const s=(...u)=>{n.value&&e(...u)};return{isActive:H(n),pause:t,resume:i,eventFilter:s}}function te(e){return x()}function ne(e,n,t={}){const{eventFilter:i=z,...s}=t;return W(e,k(i,n),s)}function re(e,n,t={}){const{eventFilter:i,...s}=t,{eventFilter:u,pause:m,resume:y,isActive:h}=ee(i);return{stop:ne(e,n,{...s,eventFilter:u}),pause:m,resume:y,isActive:h}}function ie(e,n=!0,t){te()?P(e,t):n?e():J(e)}function oe(e){var n;const t=D(e);return(n=t==null?void 0:t.$el)!=null?n:t}const C=Y?window:void 0;function M(...e){let n,t,i,s;if(typeof e[0]=="string"||Array.isArray(e[0])?([t,i,s]=e,n=C):[n,t,i,s]=e,!n)return Z;Array.isArray(t)||(t=[t]),Array.isArray(i)||(i=[i]);const u=[],m=()=>{u.forEach(f=>f()),u.length=0},y=(f,l,S,o)=>(f.addEventListener(l,S,o),()=>f.removeEventListener(l,S,o)),h=W(()=>[oe(n),D(s)],([f,l])=>{if(m(),!f)return;const S=Q(l)?{...l}:l;u.push(...t.flatMap(o=>i.map(b=>y(f,o,b,S))))},{immediate:!0,flush:"post"}),w=()=>{h(),m()};return X(w),w}function se(e){return JSON.parse(JSON.stringify(e))}const F=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},V="__vueuse_ssr_handlers__",ae=ue();function ue(){return V in F||(F[V]=F[V]||{}),F[V]}function le(e,n){return ae[e]||n}function ce(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const fe={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},T="vueuse-storage";function de(e,n,t,i={}){var s;const{flush:u="pre",deep:m=!0,listenToStorageChanges:y=!0,writeDefaults:h=!0,mergeDefaults:w=!1,shallow:f,window:l=C,eventFilter:S,onError:o=r=>{console.error(r)},initOnMounted:b}=i,d=(f?I:j)(n);if(!t)try{t=le("getDefaultStorage",()=>{var r;return(r=C)==null?void 0:r.localStorage})()}catch(r){o(r)}if(!t)return d;const g=D(n),N=ce(g),v=(s=i.serializer)!=null?s:fe[N],{pause:c,resume:A}=re(d,()=>E(d.value),{flush:u,deep:m,eventFilter:S});l&&y&&ie(()=>{t instanceof Storage?M(l,"storage",_):M(l,T,$),b&&_()}),b||_();function O(r,a){if(l){const p={key:e,oldValue:r,newValue:a,storageArea:t};l.dispatchEvent(t instanceof Storage?new StorageEvent("storage",p):new CustomEvent(T,{detail:p}))}}function E(r){try{const a=t.getItem(e);if(r==null)O(a,null),t.removeItem(e);else{const p=v.write(r);a!==p&&(t.setItem(e,p),O(a,p))}}catch(a){o(a)}}function L(r){const a=r?r.newValue:t.getItem(e);if(a==null)return h&&g!=null&&t.setItem(e,v.write(g)),g;if(!r&&w){const p=v.read(a);return typeof w=="function"?w(p,g):N==="object"&&!Array.isArray(p)?{...g,...p}:p}else return typeof a!="string"?a:v.read(a)}function _(r){if(!(r&&r.storageArea!==t)){if(r&&r.key==null){d.value=g;return}if(!(r&&r.key!==e)){c();try{(r==null?void 0:r.newValue)!==v.write(d.value)&&(d.value=L(r))}catch(a){o(a)}finally{r?J(A):A()}}}}function $(r){_(r.detail)}return d}function ge(e,n,t={}){const{window:i=C}=t;return de(e,n,i==null?void 0:i.localStorage,t)}function me(e,n,t,i={}){var s,u,m;const{clone:y=!1,passive:h=!1,eventName:w,deep:f=!1,defaultValue:l,shouldEmit:S}=i,o=x(),b=t||(o==null?void 0:o.emit)||((s=o==null?void 0:o.$emit)==null?void 0:s.bind(o))||((m=(u=o==null?void 0:o.proxy)==null?void 0:u.$emit)==null?void 0:m.bind(o==null?void 0:o.proxy));let d=w;d=d||`update:${n.toString()}`;const g=c=>y?typeof y=="function"?y(c):se(c):c,N=()=>q(e[n])?g(e[n]):l,v=c=>{S?S(c)&&b(d,c):b(d,c)};if(h){const c=N(),A=j(c);let O=!1;return W(()=>e[n],E=>{O||(O=!0,A.value=g(E),J(()=>O=!1))}),W(A,E=>{!O&&(E!==e[n]||f)&&v(E)},{deep:f}),A}else return U({get(){return N()},set(c){v(c)}})}export{ge as a,me as u};
