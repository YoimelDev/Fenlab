import{_ as A}from"./PictureIcon-DFg6c5n-.js";import{_ as w}from"./DataTable.vue_vue_type_script_setup_true_lang-BuJyaLCa.js";import"./plyr-BntakhZu.js";import{_ as k,a as E,b as I,c as S,d as V}from"./SelectValue.vue_vue_type_script_setup_true_lang-V5Wm5ifp.js";import{_ as $}from"./AuthenticatedLayout.vue_vue_type_script_setup_true_lang-DIB-mnGE.js";import{Q as F,D as m,d as j,m as M,r as R,x as B,o as i,h as u,a as t,u as a,Z as K,w as l,b as p,e as d,t as f,F as _,B as O,c as P,k as D,j as h}from"./app-eACbP6ZP.js";import{_ as T,b as L}from"./index-DqHDEH0c.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-CEZe_Lfp.js";import"./index-K8XMFSnG.js";import"./index-Bb4qSo10.js";import"./ArrowIcon.vue_vue_type_script_setup_true_lang-CeEW3sCd.js";import"./Input.vue_vue_type_script_setup_true_lang-ORNQUY0e.js";import"./index-BdjMDfyd.js";import"./TableRow.vue_vue_type_script_setup_true_lang-CrlsSZ7k.js";import"./CheckIcon-BRKK7ysp.js";import"./index-E8E8D0oD.js";import"./Cross2Icon-mDsFg_Zo.js";const U=F();var y,g,v;const q=((v=(g=(y=U.props)==null?void 0:y.auth)==null?void 0:g.salesforceUser)==null?void 0:v.rols)==="Admin",b=[{header:"ID FENCIA",accessorKey:"fenlabId"},{header:"NOMBRE PROYECTO",accessorKey:"name",cell:n=>{const r=n.getValue();return m("p",{class:"font-bold"},r)}},{header:"NOTARIA",accessorKey:"notary"},{header:"FECHA FIRMA",accessorKey:"dateSignature"},{header:"ESTADO",accessorKey:"stage",cell:n=>{const r=n.getValue();return m("div",{class:"font-medium"},m(T,{variant:L[r]},r))}}];q&&b.splice(1,0,{header:"EMPRESA",accessorKey:"companyName"});const H=b,Q={class:"flex flex-col sm:flex-row justify-between items-center gap-4 mb-10"},Y={class:"flex items-center gap-4 text-xl font-bold leading-5"},Z={class:"flex items-center gap-4"},de=j({__name:"ClosedAuctions",props:{projects:{}},setup(n){const r=n,x=M(()=>{const e=new Set;return r.projects.forEach(s=>{s.companyName&&e.add(s.companyName)}),Array.from(e).sort()}),o=R("");function C(e){o.value=e,h.get(route("my-publications.closed-auctions"),{companyName:e||void 0},{preserveState:!0,preserveScroll:!0,only:["projects"]})}function N(){o.value="",h.get(route("my-publications.closed-auctions"),{},{preserveState:!0,preserveScroll:!0,only:["projects"]})}return B(()=>{const s=new URL(window.location.href).searchParams.get("companyName");s&&(o.value=s)}),(e,s)=>(i(),u(_,null,[t(a(K),{title:"Mis Publicaciones"}),t($,null,{default:l(()=>[p("header",Q,[p("h1",Y,[t(a(A),{variant:"black",class:"text-black w-8 h-8"}),d(" Mis Publicaciones | Operaciones Cerradas ( "+f(e.projects.length)+" ) ",1)]),p("div",Z,[t(a(k),{modelValue:o.value,"onUpdate:modelValue":[s[0]||(s[0]=c=>o.value=c),C]},{default:l(()=>[t(a(E),{class:"w-[250px]"},{default:l(()=>[t(a(I),{placeholder:o.value||"Filtrar por empresa"},null,8,["placeholder"])]),_:1}),t(a(S),null,{default:l(()=>[(i(!0),u(_,null,O(x.value,c=>(i(),P(a(V),{key:c,value:c},{default:l(()=>[d(f(c),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),o.value?(i(),u("button",{key:0,onClick:N,class:"text-sm text-gray-500 hover:text-gray-700"}," Limpiar filtro ")):D("",!0)])]),t(a(w),{columns:a(H),data:e.projects,"column-filter":["clientId","fenlabId","fenciaId","salesforceId","companyName","name","productReference"]},null,8,["columns","data"])]),_:1})],64))}});export{de as default};
