import{_ as p}from"./index-CefcmSVF.js";import{_ as m}from"./Dialog.vue_vue_type_script_setup_true_lang-DWMhIoQP.js";import{t as f}from"./plyr-DAdG86ap.js";import{f as b}from"./fenlab.api-DhEghGT2.js";import{_}from"./PostDialog.vue_vue_type_script_setup_true_lang-BqLET48M.js";import{d as g,r as v,H as w,o as x,g as $,a as e,w as i,e as d,u as r}from"./app-U6TZWzdG.js";const k={class:"flex gap-2"},A=g({__name:"PublicationActions",props:{publication:{}},setup(u){const l=u,o=v(!1),n=w("$loading");async function c(){const t=n==null?void 0:n.show();try{const{data:a}=await b.post("",{method:"get",path:`projects/${l.publication.projectId}/assets/${l.publication.id}`}),s=a.assetPdf.url;window.open(s,"_blank","noopener"),f({variant:"info",title:"Publicación descargada exitosamente"})}catch{f({variant:"danger",title:"Error al descargar la publicación"})}finally{t==null||t.hide()}}return(t,a)=>(x(),$("div",k,[e(r(p),{variant:"ghost",size:"xs",onClick:c},{default:i(()=>a[3]||(a[3]=[d(" Descargar ")])),_:1}),e(r(m),{open:o.value,"onUpdate:open":a[2]||(a[2]=s=>o.value=s)},{default:i(()=>[e(r(p),{variant:"ghost",size:"xs",onClick:a[0]||(a[0]=s=>o.value=!0)},{default:i(()=>a[4]||(a[4]=[d(" Publicar ")])),_:1}),e(_,{asset:t.publication,onUpdated:a[1]||(a[1]=()=>o.value=!1)},null,8,["asset"])]),_:1},8,["open"])]))}});export{A as _};
