import{d as A,r as V,I as D,J as U,o as f,c as p,w as a,a as t,u as e,e as o,b as n,g as P,z as k,t as M,v as c,x as C,F as z}from"./app-B7lNK7ke.js";import{f as B}from"./fenlab.api-CNVzXax2.js";import{_ as b}from"./index-D8fzGvhf.js";import{_ as I,a as W}from"./DialogTrigger.vue_vue_type_script_setup_true_lang-BVl0rxJA.js";import{_ as H,a as L,b as N,c as O}from"./DialogFooter.vue_vue_type_script_setup_true_lang-rshuzqbG.js";import{_ as h}from"./Input.vue_vue_type_script_setup_true_lang-al44gOWX.js";import{_ as j,a as q,b as g,c as m,d as F,e as _}from"./TableRow.vue_vue_type_script_setup_true_lang-dNFxIhAv.js";import{t as v}from"./plyr-B7Eszw7X.js";const T={class:"content"},G={class:"flex flex-col gap-4"},J=["onUpdate:modelValue"],S=["onUpdate:modelValue"],K={class:"space-y-2"},sa=A({__name:"EditMasterData",props:{masterData:{type:Object,required:!0}},emits:["updated"],setup(x,{emit:w}){const $=x,r=V(!1),u=D({...$.masterData}),y=w,E=async()=>{try{await B.post("",{method:"post",path:"company-master-data",body:{...u}}),v({variant:"info",title:"Datos guardados correctamente"}),y("updated")}catch{v({variant:"danger",title:"¡Ups! Algo salió mal."})}finally{r.value=!1}};return(Q,l)=>{const i=U("Label");return f(),p(e(W),{open:r.value,"onUpdate:open":l[1]||(l[1]=s=>r.value=s)},{default:a(()=>[t(e(I),null,{default:a(()=>[t(e(b),{variant:"ghost",class:"text-blue text-sm font-medium",size:"sm"},{default:a(()=>l[2]||(l[2]=[o(" Editar ")])),_:1})]),_:1}),t(e(O),null,{default:a(()=>[t(e(H),null,{default:a(()=>[t(e(L),null,{default:a(()=>l[3]||(l[3]=[o(" Master data financiera ")])),_:1})]),_:1}),n("div",T,[n("div",G,[t(e(j),null,{default:a(()=>[t(e(q),null,{default:a(()=>[t(e(g),{class:"[&_th]:px-3 [&_th]:bg-white"},{default:a(()=>[t(e(m),{class:"!bg-[#ECECEC] w-[140px] z-50 relative"},{default:a(()=>[t(i,null,{default:a(()=>l[4]||(l[4]=[o("AÑO")])),_:1})]),_:1}),t(e(m),null,{default:a(()=>[t(i,null,{default:a(()=>l[5]||(l[5]=[o("IPC (%)")])),_:1})]),_:1}),t(e(m),null,{default:a(()=>[t(i,null,{default:a(()=>l[6]||(l[6]=[o("HPA (%)")])),_:1})]),_:1})]),_:1})]),_:1}),t(e(F),null,{default:a(()=>[(f(!0),P(z,null,k(u.macro,s=>(f(),p(e(g),{class:"[&_td]:px-3 [&_td]:bg-white !border-t border-[#ECECEC]",key:s.ano},{default:a(()=>[t(e(_),{class:"!bg-[#ECECEC] font-bold w-[140px]"},{default:a(()=>[o(M(s.ano),1)]),_:2},1024),t(e(_),null,{default:a(()=>[c(n("input",{"onUpdate:modelValue":d=>s.IPC=d,class:"w-full h-full outline-none hover:bg-gray-100"},null,8,J),[[C,s.IPC]])]),_:2},1024),t(e(_),null,{default:a(()=>[c(n("input",{"onUpdate:modelValue":d=>s.HPA=d,class:"w-full h-full outline-none"},null,8,S),[[C,s.HPA]])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),n("div",K,[t(i,{for:"wacc"},{default:a(()=>l[7]||(l[7]=[o("WACC - Coste de Capital")])),_:1}),t(e(h),{id:"wacc",type:"text",placeholder:"WACC - Coste de Capital",class:"mt-2",required:"",autofocus:"",autocomplete:"wacc",modelValue:u.WACC,"onUpdate:modelValue":l[0]||(l[0]=s=>u.WACC=s),modelModifiers:{number:!0}},null,8,["modelValue"])])])]),t(e(N),{class:"flex justify-between mt-10"},{default:a(()=>[t(e(b),{class:"gap-1 w-full",variant:"green",size:"sm",onClick:E},{default:a(()=>l[8]||(l[8]=[o(" Guardar ")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"])}}});export{sa as _};
