import{_ as V}from"./PictureIcon-DFg6c5n-.js";import{_ as E}from"./DataTable.vue_vue_type_script_setup_true_lang-BuJyaLCa.js";import"./plyr-BntakhZu.js";import{_ as N,a as S,b as $,c as k,d as D}from"./SelectValue.vue_vue_type_script_setup_true_lang-V5Wm5ifp.js";import{_ as I}from"./AuthenticatedLayout.vue_vue_type_script_setup_true_lang-DIB-mnGE.js";import{Q as P,D as s,E as A,d as F,m as K,r as j,x as R,o as m,h as u,a as n,u as r,Z as B,w as c,b as d,e as f,t as _,F as y,B as M,c as O,k as T,j as g}from"./app-eACbP6ZP.js";import{_ as L,b as U}from"./index-DqHDEH0c.js";import{_ as q}from"./PostAction.vue_vue_type_script_setup_true_lang-BN4eBqEo.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-CEZe_Lfp.js";import"./index-K8XMFSnG.js";import"./index-Bb4qSo10.js";import"./ArrowIcon.vue_vue_type_script_setup_true_lang-CeEW3sCd.js";import"./Input.vue_vue_type_script_setup_true_lang-ORNQUY0e.js";import"./index-BdjMDfyd.js";import"./TableRow.vue_vue_type_script_setup_true_lang-CrlsSZ7k.js";import"./CheckIcon-BRKK7ysp.js";import"./index-E8E8D0oD.js";import"./Cross2Icon-mDsFg_Zo.js";import"./Dialog.vue_vue_type_script_setup_true_lang-DLvp0pqn.js";import"./PostPubliDialog.vue_vue_type_script_setup_true_lang-BLRoBsSh.js";import"./fenlab.api-cWLRZ0Sr.js";import"./DialogFooter.vue_vue_type_script_setup_true_lang-C_GKu-hB.js";import"./Label.vue_vue_type_script_setup_true_lang-DER3lwcp.js";import"./Textarea.vue_vue_type_script_setup_true_lang-BQqHSxnM.js";import"./RadioGroupItem.vue_vue_type_script_setup_true_lang-37L3gNIe.js";import"./PostInformation.vue_vue_type_script_setup_true_lang-DUEL0xXU.js";import"./PendingApprovalInfo.vue_vue_type_script_setup_true_lang-DuKciJj2.js";import"./recordTypes-32YOpbUo.js";import"./PendingPBCInfo.vue_vue_type_script_setup_true_lang-rmhckbnb.js";import"./PendingNotaryInfo.vue_vue_type_script_setup_true_lang-CO9YWg-q.js";import"./ScrollArea.vue_vue_type_script_setup_true_lang-6C0YblS9.js";const Q=P();var h,v,b;const Y=((b=(v=(h=Q.props)==null?void 0:h.auth)==null?void 0:v.salesforceUser)==null?void 0:b.rols)==="Admin",x=[{header:"ID FENCIA",accessorKey:"fenlabId"},{header:"NOMBRE PROYECTO",accessorKey:"name",cell:t=>{const e=t.getValue();return s("p",{class:"font-bold"},e)}},{header:"PRECIO",accessorKey:"offerValue",cell:t=>{const e=t.getValue();return e?s("p",{class:"font-medium"},A(e)):s("p",{class:"font-medium"},"-")}},{header:"NOTARIA",accessorKey:"notary"},{header:"ESTADO",accessorKey:"stage",cell:t=>{const e=t.getValue();return s("div",{class:"font-medium"},s(L,{variant:U[e]},e))}},{header:"Fecha firma",accessorKey:"signatureDate",cell:t=>{const e=t.getValue();if(!e)return s("p",{class:"font-medium"},"-");const p=new Date(e).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"});return s("p",{class:"font-medium"},p)}},{id:"actions",header:()=>"",accessorKey:"id",cell:t=>{const e={postType:"pendingNotary",data:t.row.original,endpoint:"/salesforce/accept-notary"};return s(q,{postData:e})}}];Y&&x.splice(1,0,{header:"EMPRESA",accessorKey:"titular"});const Z=x,z={class:"flex flex-col sm:flex-row justify-between items-center gap-4 mb-10"},G={class:"flex items-center gap-4 text-xl font-bold leading-5"},H={class:"flex items-center gap-4"},ke=F({__name:"PendingNotary",props:{projects:{}},setup(t){const e=t,p=K(()=>{const a=new Set;return e.projects.forEach(o=>{o.titular&&a.add(o.titular)}),Array.from(a).sort()}),i=j("");function C(a){i.value=a,g.get(route("my-publications.pending-notary"),{companyName:a||void 0},{preserveState:!0,preserveScroll:!0,only:["projects"]})}function w(){i.value="",g.get(route("my-publications.pending-notary"),{},{preserveState:!0,preserveScroll:!0,only:["projects"]})}return R(()=>{const o=new URL(window.location.href).searchParams.get("companyName");o&&(i.value=o)}),(a,o)=>(m(),u(y,null,[n(r(B),{title:"Mis Publicaciones"}),n(I,null,{default:c(()=>[d("header",z,[d("h1",G,[n(r(V),{variant:"black",class:"text-black w-8 h-8"}),f(" Mis Publicaciones | Pendientes de Firma ( "+_(a.projects.length)+" ) ",1)]),d("div",H,[n(r(N),{modelValue:i.value,"onUpdate:modelValue":[o[0]||(o[0]=l=>i.value=l),C]},{default:c(()=>[n(r(S),{class:"w-[250px]"},{default:c(()=>[n(r($),{placeholder:i.value||"Filtrar por empresa"},null,8,["placeholder"])]),_:1}),n(r(k),null,{default:c(()=>[(m(!0),u(y,null,M(p.value,l=>(m(),O(r(D),{key:l,value:l},{default:c(()=>[f(_(l),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),i.value?(m(),u("button",{key:0,onClick:w,class:"text-sm text-gray-500 hover:text-gray-700"}," Limpiar filtro ")):T("",!0)])]),n(r(E),{columns:r(Z),data:a.projects,"column-filter":["clientId","fenlabId","fenciaId","salesforceId","titular","name","productReference"]},null,8,["columns","data"])]),_:1})],64))}});export{ke as default};
