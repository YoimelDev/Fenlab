import{d as E,r as A,I as V,J as D,o as _,c as m,w as a,a as e,u as t,e as s,b as o,g as U,z as P,t as k,v as p,x as C,F as M}from"./app-DdBDTKnH.js";import{f as z}from"./fenlab.api-DBmrLECZ.js";import{_ as b}from"./index-CIZ0UApH.js";import{_ as B,a as I}from"./DialogTrigger.vue_vue_type_script_setup_true_lang-DmKcY3HX.js";import{_ as W,a as H,b as L,c as N}from"./DialogFooter.vue_vue_type_script_setup_true_lang-CiljBONN.js";import{_ as O}from"./Input.vue_vue_type_script_setup_true_lang-RB6wIan0.js";import{_ as j,a as q,b as g,c,d as F,e as f}from"./TableRow.vue_vue_type_script_setup_true_lang-B-X86LQB.js";import{t as v}from"./plyr-CE9hu-lf.js";const T={class:"content"},G={class:"flex flex-col gap-4"},J=["onUpdate:modelValue"],S=["onUpdate:modelValue"],K={class:"space-y-2"},sa=E({__name:"EditMasterData",props:{masterData:{type:Object,required:!0}},emits:["updated"],setup(h,{emit:x}){const w=h,r=A(!1),n=V({...w.masterData}),$=x,y=async()=>{try{await z.post("",{method:"post",path:"company-master-data",body:{...n}}),v({variant:"info",title:"Datos guardados correctamente"}),$("updated")}catch{v({variant:"danger",title:"¡Ups! Algo salió mal."})}finally{r.value=!1}};return(Q,u)=>{const i=D("Label");return _(),m(t(I),{open:r.value,"onUpdate:open":u[1]||(u[1]=l=>r.value=l)},{default:a(()=>[e(t(B),null,{default:a(()=>[e(t(b),{variant:"ghost",class:"text-blue text-sm font-medium",size:"sm"},{default:a(()=>[s(" Editar ")]),_:1})]),_:1}),e(t(N),null,{default:a(()=>[e(t(W),null,{default:a(()=>[e(t(H),null,{default:a(()=>[s(" Master data financiera ")]),_:1})]),_:1}),o("div",T,[o("div",G,[e(t(j),null,{default:a(()=>[e(t(q),null,{default:a(()=>[e(t(g),{class:"[&_th]:px-3 [&_th]:bg-white"},{default:a(()=>[e(t(c),{class:"!bg-[#ECECEC] w-[140px] z-50 relative"},{default:a(()=>[e(i,null,{default:a(()=>[s("AÑO")]),_:1})]),_:1}),e(t(c),null,{default:a(()=>[e(i,null,{default:a(()=>[s("IPC (%)")]),_:1})]),_:1}),e(t(c),null,{default:a(()=>[e(i,null,{default:a(()=>[s("HPA (%)")]),_:1})]),_:1})]),_:1})]),_:1}),e(t(F),null,{default:a(()=>[(_(!0),U(M,null,P(n.macro,l=>(_(),m(t(g),{class:"[&_td]:px-3 [&_td]:bg-white !border-t border-[#ECECEC]",key:l.ano},{default:a(()=>[e(t(f),{class:"!bg-[#ECECEC] font-bold w-[140px]"},{default:a(()=>[s(k(l.ano),1)]),_:2},1024),e(t(f),null,{default:a(()=>[p(o("input",{"onUpdate:modelValue":d=>l.IPC=d,class:"w-full h-full outline-none hover:bg-gray-100"},null,8,J),[[C,l.IPC]])]),_:2},1024),e(t(f),null,{default:a(()=>[p(o("input",{"onUpdate:modelValue":d=>l.HPA=d,class:"w-full h-full outline-none"},null,8,S),[[C,l.HPA]])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),o("div",K,[e(i,{for:"wacc"},{default:a(()=>[s("WACC - Coste de Capital")]),_:1}),e(t(O),{id:"wacc",type:"text",placeholder:"WACC - Coste de Capital",class:"mt-2",required:"",autofocus:"",autocomplete:"wacc",modelValue:n.WACC,"onUpdate:modelValue":u[0]||(u[0]=l=>n.WACC=l),modelModifiers:{number:!0}},null,8,["modelValue"])])])]),e(t(L),{class:"flex justify-between mt-10"},{default:a(()=>[e(t(b),{class:"gap-1 w-full",variant:"green",size:"sm",onClick:y},{default:a(()=>[s(" Guardar ")]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])}}});export{sa as _};
