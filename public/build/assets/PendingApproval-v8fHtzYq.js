import{_ as P}from"./PictureIcon-DFg6c5n-.js";import{_ as w}from"./DataTable.vue_vue_type_script_setup_true_lang-BuJyaLCa.js";import"./plyr-BntakhZu.js";import{_ as I,a as N,b as A,c as K,d as R}from"./SelectValue.vue_vue_type_script_setup_true_lang-V5Wm5ifp.js";import{_ as $}from"./AuthenticatedLayout.vue_vue_type_script_setup_true_lang-DIB-mnGE.js";import{Q as k,D as t,E as m,d as M,m as j,r as O,x as S,o as p,h as u,a as n,u as o,Z as B,w as l,b as d,e as f,t as _,F as g,B as D,c as F,k as T,j as h}from"./app-eACbP6ZP.js";import{_ as L}from"./PostAction.vue_vue_type_script_setup_true_lang-BN4eBqEo.js";import{_ as U,b as q}from"./index-DqHDEH0c.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-CEZe_Lfp.js";import"./index-K8XMFSnG.js";import"./index-Bb4qSo10.js";import"./ArrowIcon.vue_vue_type_script_setup_true_lang-CeEW3sCd.js";import"./Input.vue_vue_type_script_setup_true_lang-ORNQUY0e.js";import"./index-BdjMDfyd.js";import"./TableRow.vue_vue_type_script_setup_true_lang-CrlsSZ7k.js";import"./CheckIcon-BRKK7ysp.js";import"./index-E8E8D0oD.js";import"./Cross2Icon-mDsFg_Zo.js";import"./Dialog.vue_vue_type_script_setup_true_lang-DLvp0pqn.js";import"./PostPubliDialog.vue_vue_type_script_setup_true_lang-BLRoBsSh.js";import"./fenlab.api-cWLRZ0Sr.js";import"./DialogFooter.vue_vue_type_script_setup_true_lang-C_GKu-hB.js";import"./Label.vue_vue_type_script_setup_true_lang-DER3lwcp.js";import"./Textarea.vue_vue_type_script_setup_true_lang-BQqHSxnM.js";import"./RadioGroupItem.vue_vue_type_script_setup_true_lang-37L3gNIe.js";import"./PostInformation.vue_vue_type_script_setup_true_lang-DUEL0xXU.js";import"./PendingApprovalInfo.vue_vue_type_script_setup_true_lang-DuKciJj2.js";import"./recordTypes-32YOpbUo.js";import"./PendingPBCInfo.vue_vue_type_script_setup_true_lang-rmhckbnb.js";import"./PendingNotaryInfo.vue_vue_type_script_setup_true_lang-CO9YWg-q.js";import"./ScrollArea.vue_vue_type_script_setup_true_lang-6C0YblS9.js";const Q=k();var v,y,b;const Y=((b=(y=(v=Q.props)==null?void 0:v.auth)==null?void 0:y.salesforceUser)==null?void 0:b.rols)==="Admin",x=[{header:"ID FENCIA",accessorKey:"productReference"},{header:"NOMBRE PROYECTO",accessorKey:"name",cell:a=>t("div",{class:"font-bold"},a.getValue())},{header:"PRECIO MINIMO",accessorKey:"minimumPrice",cell:a=>{const e=a.getValue();return e?t("p",{class:"font-medium"},m(e)):t("p",{class:"font-medium"},"-")}},{header:"PRECIO DE REFERENCIA",accessorKey:"referencePrice",cell:a=>{const e=a.getValue();return e?t("p",{class:"font-medium"},m(e)):t("p",{class:"font-medium"},"-")}},{header:"Ofertante",accessorKey:"offerName"},{header:"Mejor oferta",accessorKey:"maximumBid",cell:a=>{const e=a.getValue();return e?t("p",{class:"font-medium"},m(e)):t("p",{class:"font-medium"},"-")}},{header:"Depósito",accessorKey:"deposit",cell:a=>{const e=a.getValue();return e?t("p",{class:"font-medium"},m(e)):t("p",{class:"font-medium"},"-")}},{header:"ESTADO",accessorKey:"stage",cell:a=>{const e=a.getValue();return t("div",{class:"font-medium"},t(U,{variant:q[e]},e))}},{id:"actions",header:()=>"",accessorKey:"id",cell:a=>{const e={postType:"pendingApproval",data:a.row.original,endpoint:"/salesforce/approve-auction"};return t(L,{postData:e})}}];Y&&x.splice(1,0,{header:"EMPRESA",accessorKey:"titular"});const Z=x,z={class:"flex flex-col sm:flex-row justify-between items-center gap-4 mb-10"},G={class:"flex items-center gap-4 text-xl font-bold leading-5"},H={class:"flex items-center gap-4"},Ae=M({__name:"PendingApproval",props:{projects:{}},setup(a){const e=a,C=j(()=>{const r=new Set;return e.projects.forEach(s=>{s.titular&&r.add(s.titular)}),Array.from(r).sort()}),c=O("");function E(r){c.value=r,h.get(route("my-publications.pending-approval"),{companyName:r||void 0},{preserveState:!0,preserveScroll:!0,only:["projects"]})}function V(){c.value="",h.get(route("my-publications.pending-approval"),{},{preserveState:!0,preserveScroll:!0,only:["projects"]})}return S(()=>{const s=new URL(window.location.href).searchParams.get("companyName");s&&(c.value=s)}),(r,s)=>(p(),u(g,null,[n(o(B),{title:"Mis Publicaciones"}),n($,null,{default:l(()=>[d("header",z,[d("h1",G,[n(o(P),{variant:"black",class:"text-black w-8 h-8"}),f(" Mis Publicaciones | Pendientes de Aprobación ( "+_(r.projects.length)+" ) ",1)]),d("div",H,[n(o(I),{modelValue:c.value,"onUpdate:modelValue":[s[0]||(s[0]=i=>c.value=i),E]},{default:l(()=>[n(o(N),{class:"w-[250px]"},{default:l(()=>[n(o(A),{placeholder:c.value||"Filtrar por empresa"},null,8,["placeholder"])]),_:1}),n(o(K),null,{default:l(()=>[(p(!0),u(g,null,D(C.value,i=>(p(),F(o(R),{key:i,value:i},{default:l(()=>[f(_(i),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),c.value?(p(),u("button",{key:0,onClick:V,class:"text-sm text-gray-500 hover:text-gray-700"}," Limpiar filtro ")):T("",!0)])]),n(o(w),{columns:o(Z),data:r.projects,"column-filter":["clientId","fenlabId","fenciaId","salesforceId","titular","name","productReference"]},null,8,["columns","data"])]),_:1})],64))}});export{Ae as default};
