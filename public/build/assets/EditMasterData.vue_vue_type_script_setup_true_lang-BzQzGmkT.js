import{d as E,r as y,I as V,o as d,c as f,w as e,a as t,u as a,e as l,b as r,g as A,z as D,t as U,v as m,x as p,F as P}from"./app-DfKiucHG.js";import{f as k}from"./fenlab.api-CNn3FqQr.js";import{_ as C}from"./index-BXOrpTGV.js";import{_ as M,a as z}from"./DialogTrigger.vue_vue_type_script_setup_true_lang-DiWGNh29.js";import{_ as B,a as I,b as H,c as N}from"./DialogFooter.vue_vue_type_script_setup_true_lang-ZMfNJKCi.js";import{_ as O}from"./Input.vue_vue_type_script_setup_true_lang-MuIPvsHW.js";import{_ as W,a as j,b,c as _,d as q,e as c}from"./TableRow.vue_vue_type_script_setup_true_lang-CXxFm57b.js";import{t as g}from"./plyr-CcWaU179.js";const F={class:"content"},T={class:"flex flex-col gap-4"},G=["onUpdate:modelValue"],L=["onUpdate:modelValue"],ea=E({__name:"EditMasterData",props:{masterData:{type:Object,required:!0}},emits:["updated"],setup(x,{emit:h}){const v=x,i=y(!1),o=V({...v.masterData}),w=h,$=async()=>{try{await k.post("",{method:"post",path:"company-master-data",body:{...o}}),g({variant:"info",title:"Datos guardados correctamente"}),w("updated")}catch{g({variant:"danger",title:"¡Ups! Algo salió mal."})}finally{i.value=!1}};return(S,n)=>(d(),f(a(z),{open:i.value,"onUpdate:open":n[1]||(n[1]=s=>i.value=s)},{default:e(()=>[t(a(M),null,{default:e(()=>[t(a(C),{variant:"ghost",class:"text-blue text-sm font-medium",size:"sm"},{default:e(()=>[l(" Editar ")]),_:1})]),_:1}),t(a(N),null,{default:e(()=>[t(a(B),null,{default:e(()=>[t(a(I),null,{default:e(()=>[l(" Master data financiera ")]),_:1})]),_:1}),r("div",F,[r("div",T,[t(a(W),null,{default:e(()=>[t(a(j),null,{default:e(()=>[t(a(b),{class:"[&_th]:px-3 [&_th]:bg-white"},{default:e(()=>[t(a(_),{class:"!bg-[#ECECEC] w-[140px] z-50 relative"},{default:e(()=>[l(" AÑO ")]),_:1}),t(a(_),null,{default:e(()=>[l("IPC (%)")]),_:1}),t(a(_),null,{default:e(()=>[l("HPA (%)")]),_:1})]),_:1})]),_:1}),t(a(q),null,{default:e(()=>[(d(!0),A(P,null,D(o.macro,s=>(d(),f(a(b),{class:"[&_td]:px-3 [&_td]:bg-white !border-t border-[#ECECEC]",key:s.ano},{default:e(()=>[t(a(c),{class:"!bg-[#ECECEC] font-bold w-[140px]"},{default:e(()=>[l(U(s.ano),1)]),_:2},1024),t(a(c),null,{default:e(()=>[m(r("input",{"onUpdate:modelValue":u=>s.IPC=u,class:"w-full h-full outline-none hover:bg-gray-100"},null,8,G),[[p,s.IPC]])]),_:2},1024),t(a(c),null,{default:e(()=>[m(r("input",{"onUpdate:modelValue":u=>s.HPA=u,class:"w-full h-full outline-none"},null,8,L),[[p,s.HPA]])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),t(a(O),{id:"wacc",type:"text",placeholder:"WACC - Coste de Capital",class:"mt-2",required:"",autofocus:"",autocomplete:"wacc",modelValue:o.WACC,"onUpdate:modelValue":n[0]||(n[0]=s=>o.WACC=s),modelModifiers:{number:!0}},null,8,["modelValue"])])]),t(a(H),{class:"flex justify-between mt-10"},{default:e(()=>[t(a(C),{class:"gap-1 w-full",variant:"green",size:"sm",onClick:$},{default:e(()=>[l(" Guardar ")]),_:1})]),_:1})]),_:1})]),_:1},8,["open"]))}});export{ea as _};
