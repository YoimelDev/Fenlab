import{o as a,g as c,D as fe,b as s,d as j,j as p,l as k,c as h,w as i,m as A,E as U,G as O,p as B,u as e,R as he,r as Z,a as r,Z as me,k as _e,t as f,e as y,F as $,z as R,n as N,f as te,Q as ve,i as se}from"./app-DNplL-Nq.js";import{_ as ge}from"./AuthenticatedLayout.vue_vue_type_script_setup_true_lang-GEplAiQP.js";import{_ as ae,b as oe}from"./index-D-_qod3R.js";import{_ as b}from"./index-BqwVgTa6.js";import{_ as Ce}from"./ArrowIcon.vue_vue_type_script_setup_true_lang-CH2RKrEv.js";import{I as xe}from"./InfoIcon-hm8Vah1K.js";import{_ as ye,a as we,b as re,c as le,X as M}from"./TabsContent.vue_vue_type_script_setup_true_lang-JhTQSZht.js";import{_ as T}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{u as be,a as ke}from"./index-DTw704pD.js";import{t as ne}from"./plyr-DleaDI0Q.js";import{x as je,c as H,t as $e,B as E,e as Me,n as Ve,l as Be,o as He,r as Le}from"./utils-CwOVs8_Y.js";import{_ as De}from"./Assets.vue_vue_type_script_setup_true_lang-Cf7x8cPH.js";import{f as S}from"./fenlab.api-BjeP9S6S.js";import"./PictureIcon-BHYVNNlo.js";import"./index-DRcx7EjG.js";import"./Cross2Icon-D0BSf01J.js";import"./index-Bb4qSo10.js";import"./DataTable.vue_vue_type_script_setup_true_lang-B4ChGujr.js";import"./Input.vue_vue_type_script_setup_true_lang-DsSsqvow.js";import"./TableRow.vue_vue_type_script_setup_true_lang-BO_In49T.js";import"./AssetActions.vue_vue_type_script_setup_true_lang-CMGa_FR6.js";import"./Dialog.vue_vue_type_script_setup_true_lang-Dk5OtNnn.js";import"./PostDialog.vue_vue_type_script_setup_true_lang-DWXK5jXU.js";import"./DialogFooter.vue_vue_type_script_setup_true_lang-CvNQ0PNW.js";import"./Label.vue_vue_type_script_setup_true_lang-C3EYDcsA.js";import"./RadioGroupItem.vue_vue_type_script_setup_true_lang-BLZ33dGi.js";import"./CheckIcon-zLBfaiI5.js";const Ze={},Ae={width:"40",height:"48",viewBox:"0 0 40 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ee=fe('<g opacity="0.3"><path opacity="0.3" d="M27.934 9.85C26.8406 9.84894 25.7923 9.41409 25.0191 8.64092C24.2459 7.86775 23.8111 6.81941 23.81 5.72598V0H5.38203C3.95464 0 2.58569 0.567046 1.57637 1.57637C0.567046 2.58569 0 3.95459 0 5.38198V37.826C0 39.2534 0.567046 40.6223 1.57637 41.6316C2.58569 42.641 3.95464 43.208 5.38203 43.208H27.502C28.9294 43.208 30.2984 42.641 31.3077 41.6316C32.317 40.6223 32.884 39.2534 32.884 37.826V9.85H27.934Z" fill="#C6AC00"></path></g><path d="M32.8846 9.85001H27.9346C26.8411 9.84895 25.7928 9.41409 25.0196 8.64092C24.2465 7.86775 23.8116 6.81941 23.8105 5.72598V0L32.8846 9.85001Z" fill="#C6AC00"></path><path d="M36.7879 34.1213H11.7799C10.0059 34.1213 8.56787 35.5594 8.56787 37.3333V44.7893C8.56787 46.5633 10.0059 48.0013 11.7799 48.0013H36.7879C38.5618 48.0013 39.9999 46.5633 39.9999 44.7893V37.3333C39.9999 35.5594 38.5618 34.1213 36.7879 34.1213Z" fill="#C6AC00"></path><path d="M17.486 42.6751V44.1291H15.98V42.6751H17.486Z" fill="white"></path><path d="M21.8916 44.1292H20.6256H19.5356H17.8696L20.5 39.5H17.8096V38.1153H19.5356H20.6256H21.8336H22.372L20 43H22.5V44.1292H21.8916Z" fill="white"></path><path d="M27.4696 41.946V44.1526H26V38H28.3813C29.103 38 29.6549 38.1799 30.0329 38.5377C30.2242 38.7257 30.3735 38.952 30.4711 39.2018C30.5686 39.4516 30.6122 39.7193 30.5989 39.9871C30.6063 40.3405 30.5191 40.6895 30.3462 40.9979C30.1698 41.2994 29.9082 41.542 29.5942 41.6953C29.2156 41.8743 28.7999 41.9609 28.3813 41.948L27.4696 41.946ZM29.103 39.9871C29.103 39.448 28.8079 39.1785 28.2176 39.1785H27.4696V40.7614H28.2176C28.8079 40.7668 29.103 40.5087 29.103 39.9871Z" fill="white"></path><path d="M24.952 42.9V43.7745V44.1373H23.5V38H24.956L24.952 42.9Z" fill="white"></path><path d="M23.7776 30.168H9.11357C7.84357 30.168 6.80957 28.904 6.80957 27.348V16.71C6.80957 15.156 7.84357 13.892 9.11357 13.892H23.7836C25.0516 13.892 26.0856 15.156 26.0856 16.71V27.348C26.0796 28.904 25.0456 30.168 23.7776 30.168ZM9.11357 15.332C8.49157 15.332 7.9876 15.95 7.9876 16.71V27.348C7.9876 28.108 8.49157 28.726 9.11357 28.726H23.7836C24.4036 28.726 24.9076 28.108 24.9076 27.348V16.71C24.9076 15.95 24.4036 15.332 23.7836 15.332H9.11357Z" fill="#C6AC00"></path><path d="M14.6456 19H10.3544C9.60636 19 9 19.5197 9 20.1609V23.8391C9 24.4803 9.60636 25 10.3544 25H14.6456C15.3936 25 16 24.4803 16 23.8391V20.1609C16 19.5197 15.3936 19 14.6456 19Z" fill="#C6AC00"></path><path d="M22.6456 19H18.3544C17.6064 19 17 19.5197 17 20.1609V23.8391C17 24.4803 17.6064 25 18.3544 25H22.6456C23.3936 25 24 24.4803 24 23.8391V20.1609C24 19.5197 23.3936 19 22.6456 19Z" fill="#C6AC00"></path>',10),ze=[Ee];function Ie(v,l){return a(),c("svg",Ae,ze)}const Se=T(Ze,[["render",Ie]]),Fe={},Te={width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Pe=s("path",{d:"M13 9V11.6667C13 12.0203 12.8595 12.3594 12.6095 12.6095C12.3594 12.8595 12.0203 13 11.6667 13H2.33333C1.97971 13 1.64057 12.8595 1.39052 12.6095C1.14048 12.3594 1 12.0203 1 11.6667V9M3.66667 5.66667L7 9M7 9L10.3333 5.66667M7 9V1",stroke:"currentColor","stroke-width":"1.6","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),Re=[Pe];function Ne(v,l){return a(),c("svg",Te,Re)}const V=T(Fe,[["render",Ne]]),Ue={},Oe={width:"8",height:"28",viewBox:"0 0 8 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ye=s("path",{d:"M4 27.6667C5.47276 27.6667 6.66667 26.4728 6.66667 25C6.66667 23.5272 5.47276 22.3333 4 22.3333C2.52724 22.3333 1.33333 23.5272 1.33333 25C1.33333 26.4728 2.52724 27.6667 4 27.6667ZM4.35355 0.646446C4.15829 0.451185 3.84171 0.451185 3.64645 0.646446L0.464465 3.82843C0.269203 4.02369 0.269203 4.34027 0.464465 4.53553C0.659727 4.7308 0.97631 4.7308 1.17157 4.53553L4 1.70711L6.82843 4.53553C7.02369 4.7308 7.34027 4.7308 7.53553 4.53553C7.7308 4.34027 7.7308 4.02369 7.53553 3.82843L4.35355 0.646446ZM4.5 25L4.5 1L3.5 1L3.5 25L4.5 25Z",fill:"#686868"},null,-1),qe=[Ye];function Ge(v,l){return a(),c("svg",Oe,qe)}const F=T(Ue,[["render",Ge]]),Xe={key:0,width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ke=s("g",{"clip-path":"url(#clip0_2013_3043)"},[s("path",{d:"M6.06004 6.00004C6.21678 5.55449 6.52614 5.17878 6.93334 4.93946C7.34055 4.70015 7.8193 4.61267 8.28483 4.69252C8.75035 4.77236 9.17258 5.01439 9.47676 5.37573C9.78093 5.73706 9.94741 6.19439 9.94671 6.66671C9.94671 8.00004 7.94671 8.66671 7.94671 8.66671M8.00004 11.3334H8.00671M14.6667 8.00004C14.6667 11.6819 11.6819 14.6667 8.00004 14.6667C4.31814 14.6667 1.33337 11.6819 1.33337 8.00004C1.33337 4.31814 4.31814 1.33337 8.00004 1.33337C11.6819 1.33337 14.6667 4.31814 14.6667 8.00004Z",stroke:"#686868","stroke-width":"1.6","stroke-linecap":"round","stroke-linejoin":"round"})],-1),Qe=s("defs",null,[s("clipPath",{id:"clip0_2013_3043"},[s("rect",{width:"16",height:"16",fill:"white"})])],-1),Je=[Ke,Qe],ie=j({__name:"CircleIcon",props:{variant:{}},setup(v){return(l,m)=>l.variant==="help"?(a(),c("svg",Xe,Je)):p("",!0)}}),We={},et={width:"17",height:"16",viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},tt=s("path",{d:"M14.5 10V12.6667C14.5 13.0203 14.3595 13.3594 14.1095 13.6095C13.8594 13.8595 13.5203 14 13.1667 14H3.83333C3.47971 14 3.14057 13.8595 2.89052 13.6095C2.64048 13.3594 2.5 13.0203 2.5 12.6667V10M11.8333 5.33333L8.5 2M8.5 2L5.16667 5.33333M8.5 2V10",stroke:"white","stroke-width":"1.6","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),st=[tt];function at(v,l){return a(),c("svg",et,st)}const ce=T(We,[["render",at]]);function de(v,l){return a(),c("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[s("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M1.90321 7.29677C1.90321 10.341 4.11041 12.4147 6.58893 12.8439C6.87255 12.893 7.06266 13.1627 7.01355 13.4464C6.96444 13.73 6.69471 13.9201 6.41109 13.871C3.49942 13.3668 0.86084 10.9127 0.86084 7.29677C0.860839 5.76009 1.55996 4.55245 2.37639 3.63377C2.96124 2.97568 3.63034 2.44135 4.16846 2.03202L2.53205 2.03202C2.25591 2.03202 2.03205 1.80816 2.03205 1.53202C2.03205 1.25588 2.25591 1.03202 2.53205 1.03202L5.53205 1.03202C5.80819 1.03202 6.03205 1.25588 6.03205 1.53202L6.03205 4.53202C6.03205 4.80816 5.80819 5.03202 5.53205 5.03202C5.25591 5.03202 5.03205 4.80816 5.03205 4.53202L5.03205 2.68645L5.03054 2.68759L5.03045 2.68766L5.03044 2.68767L5.03043 2.68767C4.45896 3.11868 3.76059 3.64538 3.15554 4.3262C2.44102 5.13021 1.90321 6.10154 1.90321 7.29677ZM13.0109 7.70321C13.0109 4.69115 10.8505 2.6296 8.40384 2.17029C8.12093 2.11718 7.93465 1.84479 7.98776 1.56188C8.04087 1.27898 8.31326 1.0927 8.59616 1.14581C11.4704 1.68541 14.0532 4.12605 14.0532 7.70321C14.0532 9.23988 13.3541 10.4475 12.5377 11.3662C11.9528 12.0243 11.2837 12.5586 10.7456 12.968L12.3821 12.968C12.6582 12.968 12.8821 13.1918 12.8821 13.468C12.8821 13.7441 12.6582 13.968 12.3821 13.968L9.38205 13.968C9.10591 13.968 8.88205 13.7441 8.88205 13.468L8.88205 10.468C8.88205 10.1918 9.10591 9.96796 9.38205 9.96796C9.65819 9.96796 9.88205 10.1918 9.88205 10.468L9.88205 12.3135L9.88362 12.3123C10.4551 11.8813 11.1535 11.3546 11.7585 10.6738C12.4731 9.86976 13.0109 8.89844 13.0109 7.70321Z",fill:"currentColor"})])}const ot=j({__name:"Stepper",props:{defaultValue:{},orientation:{},dir:{},modelValue:{},linear:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["update:modelValue"],setup(v,{emit:l}){const m=v,C=l,o=k(()=>{const{class:u,...g}=m;return g}),_=je(o,C);return(u,g)=>(a(),h(e($e),B({class:e(H)("flex gap-2",m.class)},e(_)),{default:i(L=>[A(u.$slots,"default",U(O(L)))]),_:3},16,["class"]))}}),rt=j({__name:"StepperItem",props:{step:{},disabled:{type:Boolean},completed:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(v){const l=v,m=k(()=>{const{class:o,..._}=l;return _}),C=E(m);return(o,_)=>(a(),h(e(Me),B(e(C),{class:e(H)("flex items-center gap-2 group data-[disabled]:pointer-events-none",l.class)}),{default:i(u=>[A(o.$slots,"default",U(O(u)))]),_:3},16,["class"]))}}),lt=j({__name:"StepperTrigger",props:{asChild:{type:Boolean},as:{},class:{}},setup(v){const l=v,m=k(()=>{const{class:o,..._}=l;return _}),C=E(m);return(o,_)=>(a(),h(e(Ve),B(e(C),{class:e(H)("p-1 flex flex-col items-center text-center gap-1 rounded-md",l.class)}),{default:i(()=>[A(o.$slots,"default")]),_:3},16,["class"]))}}),nt=j({__name:"StepperTitle",props:{asChild:{type:Boolean},as:{},class:{}},setup(v){const l=v,m=k(()=>{const{class:o,..._}=l;return _}),C=E(m);return(o,_)=>(a(),h(e(Be),B(e(C),{class:e(H)("text-md font-semibold whitespace-nowrap",l.class)}),{default:i(()=>[A(o.$slots,"default")]),_:3},16,["class"]))}}),it=j({__name:"StepperDescription",props:{asChild:{type:Boolean},as:{},class:{}},setup(v){const l=v,m=k(()=>{const{class:o,..._}=l;return _}),C=E(m);return(o,_)=>(a(),h(e(He),B(e(C),{class:e(H)("text-xs text-muted-foreground",l.class)}),{default:i(u=>[A(o.$slots,"default",U(O(u)))]),_:3},16,["class"]))}}),ct=j({__name:"StepperSeparator",props:{orientation:{},decorative:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(v){const l=v,m=k(()=>{const{class:o,..._}=l;return _}),C=E(m);return(o,_)=>(a(),h(e(Le),B(e(C),{class:e(H)("bg-muted","group-data-[disabled]:bg-muted group-data-[disabled]:opacity-50","group-data-[state=completed]:bg-accent-foreground",l.class)}),null,16,["class"]))}}),dt={class:"flex flex-col sm:flex-row justify-between items-center gap-4 mb-10"},pt={class:"flex items-center gap-4"},ut={class:"hidden sm:inline capitalize"},ft={class:"mt-5 flex flex-col items-center text-center"},ht={class:"my-4 p-6 bg-white rounded-sm border border-[#E5E7EB] shadow-sm"},mt=["innerHTML"],_t={key:0,class:"my-4 p-8 bg-white"},vt={key:0,class:"mb-4 p-4 bg-red-50 border border-red-200 rounded-sm text-red-600",style:{"white-space":"pre-line"}},gt={class:"flex items-center gap-2 mb-5 text-grey text-sm"},Ct={key:1,class:"w-full mb-4"},xt={class:"flex items-center gap-2"},yt={class:"text-sm font-medium"},wt={class:"text-xs text-gray-500"},bt={key:1,class:"flex items-center justify-center gap-3"},kt=s("span",{class:"text-grey"},"Análisis en curso",-1),jt={key:1,class:"my-4 p-2 bg-white"},$t={key:0,class:"mb-4 p-4 bg-red-50 border border-red-200 rounded-sm text-red-600",style:{"white-space":"pre-line"}},Mt={class:"flex items-center gap-2 mb-5 text-grey text-sm"},Vt={key:1,class:"w-full mb-4"},Bt={class:"flex items-center gap-2"},Ht={class:"text-sm font-medium"},Lt={class:"text-xs text-gray-500"},Dt={class:"flex justify-center items-center"},Zt={key:2,class:"my-4"},At={class:"relative flex items-center gap-4 w-full p-4 bg-white"},Et={class:"text-black text-lg font-bold"},zt={class:"text-grey text-sm"},It=["href"],St={class:"flex justify-center items-center"},Ft={key:3,class:"my-4 bg-white border-2 border-[#e3d9a3] rounded-[5px]"},Tt=s("h3",{class:"px-4 pt-4 text-lg font-bold"}," Resultados del análisis ",-1),Pt={key:0,class:"relative flex items-center gap-4 w-full p-4"},Rt={class:"text-black text-lg font-bold"},Nt={class:"text-grey text-sm"},Ut=["href"],Ot={key:1,class:"relative flex items-center gap-4 w-full p-4"},Yt={class:"text-black text-lg font-bold"},qt={class:"text-grey text-sm"},Gt=["href"],Xt={key:2,class:"relative flex items-center gap-4 w-full p-4"},Kt={class:"text-black text-lg font-bold"},Qt={class:"text-grey text-sm"},Jt=["href"],Wt={class:"flex justify-center items-center"},es={key:4,class:"my-4"},ts={class:"relative flex items-center gap-4 w-full p-4 bg-white"},ss={class:"text-black text-lg font-bold"},as={class:"text-grey text-sm"},os=["href"],rs={class:"flex justify-center items-center"},ls={key:5,class:"my-4"},ns={class:"relative flex items-center gap-4 w-full p-4 bg-white"},is={class:"text-black text-lg font-bold"},cs={class:"text-grey text-sm"},ds=["href"],Ss=j({__name:"InternalView",props:{project:{},assets:{}},setup(v){const l=v,m=he("$loading"),C=Z("analysis"),o=Z([]),_=Z(),u=Z(null),g=Z(""),L=[{step:1,title:"Carga Cliente",description:be(l.project.createdAt,"DD/MM/YYYY")},{step:2,title:"Análisis Fenlab",description:""},{step:3,title:"Carga definitiva",description:""}],Y=k(()=>{const t=ve();return console.log("ROL",t.props.auth.salesforceUser.rols),t.props.auth.salesforceUser.rols==="Admin"}),P=k(()=>{switch(l.project.status){case"Sin empezar":return 1;case"Análisis completo":case"Análisis en curso":return 2;case"Carga definitiva":return 3;default:return 1}}),q=t=>{const n={"Sin empezar":1,"Análisis en curso":2,"Análisis completo":2,"Carga definitiva":3}[l.project.status];return t!==n};function G(t){o.value=[],t&&(o.value=t.map(d=>({file:d,name:d.name,size:d.size,type:d.type,lastModified:d.lastModified})),Y.value&&l.project.status==="Análisis en curso"?ue():pe())}const{isOverDropZone:X}=ke(_,G);function K(t){const d=t.target;d.files&&d.files.length>0&&G(Array.from(d.files))}const Q=t=>{if(t===0)return"0 Bytes";const d=1024,n=["Bytes","KB","MB","GB"],x=Math.floor(Math.log(t)/Math.log(d));return parseFloat((t/Math.pow(d,x)).toFixed(2))+" "+n[x]};function z(){u.value&&u.value.click()}const J=k(()=>l.project.status==="Análisis completo"?"second-excel":"first-excel");async function pe(){var n,x,D;if(g.value="",o.value.length===0){g.value="No se ha seleccionado ningún archivo.";return}const t=m==null?void 0:m.show(),d=new FormData;d.append("method","post"),d.append("path",`projects/${l.project.id}/${l.project.modelType}/${J.value}`),d.append("file",o.value[0].file);try{const w=await S.post("",d);if(!w.data.success){const W=w.data.errors.list.map(I=>`${I.header}: ${I.error}`).join(`
`);g.value=`Error en el archivo "${o.value[0].name}":
${W}`,o.value=[],u.value&&(u.value.value="");return}J.value==="second-excel"&&await S.post("/import",w.data.prestashopData),ne({variant:"info",title:"Archivo subido correctamente"}),o.value=[],u.value&&(u.value.value="")}catch(w){g.value=`Error al subir el archivo "${o.value[0].name}": ${((D=(x=(n=w.response)==null?void 0:n.data)==null?void 0:x.message)==null?void 0:D.join(`
`))||"Error desconocido"}`,o.value=[],u.value&&(u.value.value="")}finally{t==null||t.hide(),se.reload()}}async function ue(){var n,x,D;if(g.value="",o.value.length===0){g.value="No se ha seleccionado ningún archivo.";return}const t=m==null?void 0:m.show(),d=new FormData;d.append("method","post"),d.append("path",`projects/${l.project.id}/idealista-excel`),d.append("file",o.value[0].file);try{const w=await S.post("",d);if(!w.data.success){const I=w.data.errors.list.map(ee=>`${ee.header}: ${ee.error}`).join(`
`);g.value=`Error en el archivo "${o.value[0].name}":
${I}`,o.value=[],u.value&&(u.value.value="");return}if(!(await S.post("",{method:"post",path:`projects/${l.project.id}/${l.project.modelType}/model`})).data.success){g.value="Error al procesar el modelo",o.value=[],u.value&&(u.value.value="");return}ne({variant:"info",title:"Archivo procesado correctamente"}),o.value=[],u.value&&(u.value.value="")}catch(w){g.value=`Error al procesar el archivo "${o.value[0].name}": ${((D=(x=(n=w.response)==null?void 0:n.data)==null?void 0:x.message)==null?void 0:D.join(`
`))||"Error desconocido"}`,o.value=[],u.value&&(u.value.value="")}finally{t==null||t.hide(),se.reload()}}return(t,d)=>(a(),c($,null,[r(e(me),{title:"Mis Análisis"}),r(ge,null,{default:i(()=>[s("header",dt,[s("div",pt,[r(e(b),{variant:"ghost","as-child":"",size:"sm"},{default:i(()=>[r(e(_e),{href:t.route("analysis")},{default:i(()=>[r(e(Ce),{class:"sm:mr-2 text-black",variant:"left"}),s("span",ut,f(t.project.name),1)]),_:1},8,["href"])]),_:1}),r(e(ae),{variant:e(oe)[t.project.modelType],size:"sm"},{default:i(()=>[y(f(t.project.modelType),1)]),_:1},8,["variant"]),P.value==2?(a(),h(e(de),{key:0,class:"h-4 w-4 text-black animate-spin"})):(a(),h(e(xe),{key:1})),r(e(ae),{variant:e(oe)[t.project.status],size:"sm"},{default:i(()=>[y(f(t.project.status),1)]),_:1},8,["variant"])])]),r(e(ot),{modelValue:P.value,"onUpdate:modelValue":d[0]||(d[0]=n=>P.value=n),"allow-click":!1,class:"flex w-full items-start gap-2 my-10"},{default:i(()=>[(a(),c($,null,R(L,n=>r(e(rt),{key:n.step,class:"relative flex w-full flex-col items-center justify-center",step:n.step},{default:i(({state:x})=>[n.step!==L[L.length-1].step?(a(),h(e(ct),{key:0,class:"absolute left-[calc(50%+20px)] right-[calc(-50%+10px)] top-5 block h-0.5 shrink-0 rounded-full bg-[#686868]/30 group-data-[state=completed]:bg-electric-green"})):p("",!0),r(e(lt),{"as-child":""},{default:i(()=>[r(e(b),{variant:"green",size:"icon",class:N(["z-10 rounded-full shrink-0",[x==="active",x==="inactive"&&"bg-[#686868]/50",q(n.step)&&"opacity-50 cursor-not-allowed"]]),disabled:q(n.step)},{default:i(()=>[y(f(n.step),1)]),_:2},1032,["class","disabled"])]),_:2},1024),s("div",ft,[r(e(nt),{class:"text-sm font-semibold transition lg:text-base"},{default:i(()=>[y(f(n.title),1)]),_:2},1024),r(e(it),{class:"sr-only text-xs text-black transition md:not-sr-only lg:text-sm"},{default:i(()=>[y(f(n.description),1)]),_:2},1024)])]),_:2},1032,["step"])),64))]),_:1},8,["modelValue"]),r(e(ye),{"default-value":"analysis","model-value":C.value,"onUpdate:modelValue":d[1]||(d[1]=n=>C.value=n)},{default:i(()=>[r(e(we),{class:"grid w-[274px] grid-cols-2"},{default:i(()=>[r(e(re),{value:"analysis"},{default:i(()=>[y(" Análisis ")]),_:1}),r(e(re),{value:"assets"},{default:i(()=>[y(" Activos ")]),_:1})]),_:1}),r(e(le),{value:"analysis"},{default:i(()=>[s("div",ht,[s("p",{innerHTML:t.project.instructions,class:"whitespace-pre-line text-gray-700 leading-relaxed"},null,8,mt)]),t.project.status==="Análisis en curso"?(a(),c("div",_t,[Y.value?(a(),c($,{key:0},[g.value?(a(),c("div",vt,f(g.value),1)):p("",!0),s("div",{ref_key:"dropZoneRef",ref:_,class:N(["grid place-items-center p-5 border-2 border-dashed border-[#C1C1C1] rounded-sm",[e(X)&&"border-electric-green",g.value&&"border-red-300"]]),onClick:z,role:"button"},[o.value.length===0?(a(),c($,{key:0},[s("p",gt,[y(" Arrastra aquí el archivo de Idealista o haz clic para seleccionarlo "),r(e(ie),{variant:"help"})]),r(e(b),{variant:"green",size:"xs",onClick:te(z,["stop"])},{default:i(()=>[r(e(ce),{class:"mr-2"}),y(" Adjuntar archivo ")]),_:1})],64)):(a(),c("div",Ct,[(a(!0),c($,null,R(o.value,n=>(a(),c("div",{key:n.name,class:"flex items-center justify-between p-2 bg-gray-50 rounded"},[s("div",xt,[r(e(M),{class:"w-5 h-5"}),s("span",yt,f(n.name),1)]),s("span",wt,f(Q(n.size)),1)]))),128))])),s("input",{type:"file",ref_key:"fileInput",ref:u,onChange:K,class:"hidden",accept:".xlsx,.xls"},null,544)],2)],64)):(a(),c("div",bt,[r(e(de),{class:"h-6 w-6 text-black animate-spin"}),kt]))])):t.project.status!=="Carga definitiva"?(a(),c("div",jt,[g.value?(a(),c("div",$t,f(g.value),1)):p("",!0),s("div",{ref_key:"dropZoneRef",ref:_,class:N(["grid place-items-center p-5 border-2 border-dashed border-[#C1C1C1] rounded-sm",[e(X)&&"border-electric-green",g.value&&"border-red-300"]]),onClick:z,role:"button"},[o.value.length===0?(a(),c($,{key:0},[s("p",Mt,[y(" Arrastra aquí tu archivo excel cumplimentado o haz clic para seleccionarlo "),r(e(ie),{variant:"help"})]),r(e(b),{variant:"green",size:"xs",onClick:te(z,["stop"])},{default:i(()=>[r(e(ce),{class:"mr-2"}),y(" Adjuntar archivo ")]),_:1})],64)):(a(),c("div",Vt,[(a(!0),c($,null,R(o.value,n=>(a(),c("div",{key:n.name,class:"flex items-center justify-between p-2 bg-gray-50 rounded"},[s("div",Bt,[r(e(M),{class:"w-5 h-5"}),s("span",Ht,f(n.name),1)]),s("span",Lt,f(Q(n.size)),1)]))),128))])),s("input",{type:"file",ref_key:"fileInput",ref:u,onChange:K,class:"hidden",accept:".xlsx,.xls"},null,544)],2)])):p("",!0),s("div",Dt,[t.project.secondExcel?(a(),h(e(F),{key:0})):p("",!0)]),t.project.secondExcel?(a(),c("div",Zt,[s("div",At,[t.project.secondExcel.extension=="xlsx"?(a(),h(e(M),{key:0})):p("",!0),s("div",null,[s("p",Et,f(t.project.secondExcel.title),1),s("p",zt,f(t.project.secondExcel.description),1)]),t.project.secondExcel.url?(a(),h(e(b),{key:1,variant:"ghost",size:"xs","as-child":""},{default:i(()=>[s("a",{class:"absolute top-4 right-4",href:t.project.secondExcel.url,target:"_blank",rel:"noopener noreferrer"},[r(e(V))],8,It)]),_:1})):p("",!0)])])):p("",!0),s("div",St,[t.project.secondExcel?(a(),h(e(F),{key:0})):p("",!0)]),t.project.assetsZip||t.project.outputBBDD||t.project.strats?(a(),c("section",Ft,[Tt,t.project.assetsZip?(a(),c("div",Pt,[r(e(Se)),s("div",null,[s("p",Rt,f(t.project.assetsZip.title),1),s("p",Nt,f(t.project.assetsZip.description),1)]),t.project.assetsZip.url?(a(),h(e(b),{key:0,variant:"ghost",size:"xs","as-child":""},{default:i(()=>[s("a",{class:"absolute top-4 right-4",href:t.project.assetsZip.url,target:"_blank",rel:"noopener noreferrer"},[r(e(V))],8,Ut)]),_:1})):p("",!0)])):p("",!0),t.project.outputBBDD?(a(),c("div",Ot,[t.project.outputBBDD.extension=="xlsx"?(a(),h(e(M),{key:0})):p("",!0),s("div",null,[s("p",Yt,f(t.project.outputBBDD.title),1),s("p",qt,f(t.project.outputBBDD.description),1)]),t.project.outputBBDD.url?(a(),h(e(b),{key:1,variant:"ghost",size:"xs","as-child":""},{default:i(()=>[s("a",{class:"absolute top-4 right-4",href:t.project.outputBBDD.url,target:"_blank",rel:"noopener noreferrer"},[r(e(V))],8,Gt)]),_:1})):p("",!0)])):p("",!0),t.project.strats?(a(),c("div",Xt,[t.project.strats.extension=="xlsx"?(a(),h(e(M),{key:0})):p("",!0),s("div",null,[s("p",Kt,f(t.project.strats.title),1),s("p",Qt,f(t.project.strats.description),1)]),t.project.strats.url?(a(),h(e(b),{key:1,variant:"ghost",size:"xs","as-child":""},{default:i(()=>[s("a",{class:"absolute top-4 right-4",href:t.project.strats.url,target:"_blank",rel:"noopener noreferrer"},[r(e(V))],8,Jt)]),_:1})):p("",!0)])):p("",!0)])):p("",!0),s("div",Wt,[t.project.firstExcel?(a(),h(e(F),{key:0})):p("",!0)]),t.project.firstExcel?(a(),c("div",es,[s("div",ts,[t.project.firstExcel.extension=="xlsx"?(a(),h(e(M),{key:0})):p("",!0),s("div",null,[s("p",ss,f(t.project.firstExcel.title),1),s("p",as,f(t.project.firstExcel.description),1)]),t.project.firstExcel.url?(a(),h(e(b),{key:1,variant:"ghost",size:"xs","as-child":""},{default:i(()=>[s("a",{class:"absolute top-4 right-4",href:t.project.firstExcel.url,target:"_blank",rel:"noopener noreferrer"},[r(e(V))],8,os)]),_:1})):p("",!0)])])):p("",!0),s("div",rs,[t.project.template?(a(),h(e(F),{key:0})):p("",!0)]),t.project.template?(a(),c("div",ls,[s("div",ns,[t.project.template.extension=="xlsx"?(a(),h(e(M),{key:0})):p("",!0),s("div",null,[s("p",is,f(t.project.template.title),1),s("p",cs,f(t.project.template.description),1)]),t.project.template.url?(a(),h(e(b),{key:1,variant:"ghost",size:"xs","as-child":""},{default:i(()=>[s("a",{class:"absolute top-4 right-4",href:t.project.template.url,target:"_blank",rel:"noopener noreferrer"},[r(e(V))],8,ds)]),_:1})):p("",!0)])])):p("",!0)]),_:1}),r(e(le),{value:"assets"},{default:i(()=>[r(e(De),{assets:t.assets.data},null,8,["assets"])]),_:1})]),_:1},8,["model-value"])]),_:1})],64))}});export{Ss as default};
