import{f as c}from"./fenlab.api-DhEghGT2.js";import{_ as $}from"./index-CefcmSVF.js";import{a as g,_ as D,b as w,c as M}from"./DialogFooter.vue_vue_type_script_setup_true_lang-Cz1yCQbA.js";import{_ as u}from"./Input.vue_vue_type_script_setup_true_lang-Q8KFWi3L.js";import{_ as r}from"./Label.vue_vue_type_script_setup_true_lang-BPOPHJo-.js";import{t as v}from"./plyr-DAdG86ap.js";import{_ as f,a as R}from"./RadioGroupItem.vue_vue_type_script_setup_true_lang-B5u7kqK0.js";import{d as U,H as I,r as _,o as P,c as j,w as s,a as l,u as a,e as i,b as d}from"./app-U6TZWzdG.js";const q={class:"content"},A={class:"flex flex-col gap-4"},F={class:"space-y-2"},k={class:"space-y-2"},B={class:"space-y-2"},N={class:"space-y-2"},z={class:"space-y-2"},H={class:"space-y-2"},S={class:"flex items-center space-x-2"},T={class:"flex items-center space-x-2"},E={class:"flex items-center space-x-2"},Y=U({__name:"PostDialog",props:{asset:{}},emits:["updated"],setup(b,{emit:V}){const y=b,p=I("$loading"),t=_({...y.asset}),n=_("subasta"),x=V,C=async()=>{const m=p==null?void 0:p.show();try{const{data:e}=await c.post("",{method:"put",path:`projects/${t.value.projectId}/assets/${t.value.id}/publish`,body:{precioReferencia:t.value.model.npl.precioReferencia,opcionesDePublicacion:[{opcion:n.value,publicable:t.value.model.npl[n.value].isPublishable,precioMinimo:t.value.model.npl[n.value].precioMinimo}]}});await c.post("/import",e),v({variant:"info",title:"Datos guardados correctamente"})}catch(e){v({variant:"danger",title:"¡Ups! Algo salió mal.",description:Array.isArray(e.response.data.message)?e.response.data.message.join(`
`):e.response.data.message})}finally{m==null||m.hide(),x("updated")}};return(m,e)=>(P(),j(a(M),null,{default:s(()=>[l(a(D),null,{default:s(()=>[l(a(g),null,{default:s(()=>e[6]||(e[6]=[i(" ID cliente ")])),_:1})]),_:1}),d("div",q,[d("div",A,[d("div",F,[l(a(r),{for:"idCliente"},{default:s(()=>e[7]||(e[7]=[i("ID cliente")])),_:1}),l(a(u),{id:"idCliente",type:"text",placeholder:"ID cliente",class:"mt-2",disabled:"",required:"",modelValue:t.value.idCliente,"onUpdate:modelValue":e[0]||(e[0]=o=>t.value.idCliente=o)},null,8,["modelValue"])]),d("div",k,[l(a(r),{for:"idFencia"},{default:s(()=>e[8]||(e[8]=[i("ID fenlab")])),_:1}),l(a(u),{id:"idFencia",type:"text",placeholder:"ID fenlab",class:"mt-2",disabled:"",required:"",modelValue:t.value.idFencia,"onUpdate:modelValue":e[1]||(e[1]=o=>t.value.idFencia=o)},null,8,["modelValue"])]),d("div",B,[l(a(r),{for:"referenciaCatastral"},{default:s(()=>e[9]||(e[9]=[i("Referencia catastral")])),_:1}),l(a(u),{id:"referenciaCatastral",type:"text",placeholder:"Referencia catastral",disabled:"",class:"mt-2",required:"",modelValue:t.value.model.referenciaCatastral,"onUpdate:modelValue":e[2]||(e[2]=o=>t.value.model.referenciaCatastral=o)},null,8,["modelValue"])]),d("div",N,[l(a(r),{for:"min_price"},{default:s(()=>e[10]||(e[10]=[i("Precio mínimo (€)")])),_:1}),l(a(u),{id:"min_price",type:"text",placeholder:"Precio mínimo",class:"mt-2",required:"",modelValue:t.value.model.npl.credito.precioMinimo,"onUpdate:modelValue":e[3]||(e[3]=o=>t.value.model.npl.credito.precioMinimo=o)},null,8,["modelValue"])]),d("div",z,[l(a(r),{for:"reference_value"},{default:s(()=>e[11]||(e[11]=[i("Valor de referencia (€)")])),_:1}),l(a(u),{id:"reference_value",type:"text",placeholder:"Valor de referencia",disabled:"",class:"mt-2",required:"",modelValue:t.value.model.npl.precioReferencia,"onUpdate:modelValue":e[4]||(e[4]=o=>t.value.model.npl.precioReferencia=o),modelModifiers:{number:!0}},null,8,["modelValue"])]),d("div",H,[l(a(r),{for:"transaction_modality"},{default:s(()=>e[12]||(e[12]=[i("Modalidad de transacción")])),_:1}),l(a(R),{modelValue:n.value,"onUpdate:modelValue":e[5]||(e[5]=o=>n.value=o),"default-value":"subasta"},{default:s(()=>[d("div",S,[l(a(f),{id:"r1",value:"subasta"}),l(a(r),{for:"r1"},{default:s(()=>e[13]||(e[13]=[i("Subasta")])),_:1})]),d("div",T,[l(a(f),{id:"r2",value:"crédito"}),l(a(r),{for:"r2"},{default:s(()=>e[14]||(e[14]=[i("Crédito")])),_:1})]),d("div",E,[l(a(f),{id:"r3",value:"remate"}),l(a(r),{for:"r3"},{default:s(()=>e[15]||(e[15]=[i("Remate")])),_:1})])]),_:1},8,["modelValue"])])])]),l(a(w),{class:"flex justify-between mt-10"},{default:s(()=>[l(a($),{class:"gap-1 w-full",variant:"green",size:"sm",onClick:C},{default:s(()=>e[16]||(e[16]=[i(" Publicar ")])),_:1})]),_:1})]),_:1}))}});export{Y as _};
