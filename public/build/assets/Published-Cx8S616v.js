import{_ as K}from"./AuthenticatedLayout.vue_vue_type_script_setup_true_lang-DIB-mnGE.js";import{Q as $,D as s,E as p,d as A,r as y,m as M,x as S,o as m,h as d,a as o,u as r,Z as B,w as i,b as f,e as b,t as g,F as v,B as I,c as F,k as L,j as x}from"./app-eACbP6ZP.js";import{_ as O}from"./DataTable.vue_vue_type_script_setup_true_lang-BuJyaLCa.js";import{_ as T}from"./PictureIcon-DFg6c5n-.js";import"./plyr-BntakhZu.js";import{_ as D,a as R,b as U,c as j,d as q}from"./SelectValue.vue_vue_type_script_setup_true_lang-V5Wm5ifp.js";import{_ as Q,b as Z}from"./index-DqHDEH0c.js";import{r as z}from"./recordTypes-32YOpbUo.js";import"./index-BdjMDfyd.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-K8XMFSnG.js";import"./index-CEZe_Lfp.js";import"./index-Bb4qSo10.js";import"./index-E8E8D0oD.js";import"./Cross2Icon-mDsFg_Zo.js";import"./ArrowIcon.vue_vue_type_script_setup_true_lang-CeEW3sCd.js";import"./Input.vue_vue_type_script_setup_true_lang-ORNQUY0e.js";import"./TableRow.vue_vue_type_script_setup_true_lang-CrlsSZ7k.js";import"./CheckIcon-BRKK7ysp.js";const G=$();var C,N,P;const H=((P=(N=(C=G.props)==null?void 0:C.auth)==null?void 0:N.salesforceUser)==null?void 0:P.rols)==="Admin",V=[{header:"ID FENCIA",accessorKey:"productReference"},{header:"DETALLE",accessorKey:"name"},{header:"PRECIO MÍNIMO",accessorKey:"minimumPrice",cell:a=>{const e=a.getValue();return e?s("p",{class:"font-medium"},p(e)):s("p",{class:"font-medium"},"-")}},{header:"Precio de referencia",accessorKey:"referencePrice",cell:a=>{const e=a.getValue();return e?s("p",{class:"font-medium"},p(e)):s("p",{class:"font-medium"},"-")}},{header:"Ofertas ",accessorKey:"numberOfBids"},{header:"Mejor oferta",accessorKey:"maximumBid",cell:a=>{const e=a.getValue();return e?s("p",{class:"font-medium"},p(e)):s("p",{class:"font-medium"},"-")}},{header:"TIPO",accessorKey:"recordType",cell:a=>{const e=a.getValue();return s("p",{class:"text-grey"},z[e]||e)}},{header:"ESTADO",accessorKey:"stage",cell:a=>{const e=a.getValue();return s("div",{class:"font-medium"},s(Q,{variant:Z[e]},e))}}];H&&V.splice(1,0,{header:"EMPRESA",accessorKey:"companyName"});const J=V,W={class:"flex flex-col sm:flex-row justify-between items-center gap-4 mb-10"},X={class:"flex items-center gap-4 text-xl font-bold leading-5"},Y={class:"flex items-center gap-4"},ge=A({__name:"Published",props:{published:{}},setup(a){var _;const u=y(((_=a.published)==null?void 0:_.Auctions)??[]),w=M(()=>{const l=new Set;return u.value.forEach(t=>{t.companyName&&l.add(t.companyName)}),Array.from(l).sort()}),c=y("");function E(l){c.value=l,x.get(route("my-publications.published"),{companyName:l||void 0},{preserveState:!0,preserveScroll:!0,only:["published"]})}function k(){c.value="",x.get(route("my-publications.published"),{},{preserveState:!0,preserveScroll:!0,only:["published"]})}return S(()=>{const t=new URL(window.location.href).searchParams.get("companyName");t&&(c.value=t)}),(l,t)=>(m(),d(v,null,[o(r(B),{title:"Mis Publicaciones"}),o(K,null,{default:i(()=>{var h;return[f("header",W,[f("h1",X,[o(r(T),{variant:"black",class:"text-black w-8 h-8"}),b(" Mis Publicaciones | Publicadas ( "+g((h=u.value)==null?void 0:h.length)+" ) ",1)]),f("div",Y,[o(r(D),{modelValue:c.value,"onUpdate:modelValue":[t[0]||(t[0]=n=>c.value=n),E]},{default:i(()=>[o(r(R),{class:"w-[250px]"},{default:i(()=>[o(r(U),{placeholder:c.value||"Filtrar por empresa"},null,8,["placeholder"])]),_:1}),o(r(j),null,{default:i(()=>[(m(!0),d(v,null,I(w.value,n=>(m(),F(r(q),{key:n,value:n},{default:i(()=>[b(g(n),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"]),c.value?(m(),d("button",{key:0,onClick:k,class:"text-sm text-gray-500 hover:text-gray-700"}," Limpiar filtro ")):L("",!0)])]),o(r(O),{columns:r(J),data:u.value,"column-filter":["id","fenlabId","prestashopId","companyName","productReference"]},null,8,["columns","data"])]}),_:1})],64))}});export{ge as default};
