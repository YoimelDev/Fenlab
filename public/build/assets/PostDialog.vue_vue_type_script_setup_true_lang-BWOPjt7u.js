import{d as y,r as V,l as x,o as C,c as D,w as i,a as l,u as a,e as o,b as r,i as $}from"./app-CeVhMHlX.js";import{f as g}from"./fenlab.api-BGVnlsOz.js";import{_ as P}from"./index-B3yEPBZj.js";import{a as q,_ as I,b as M,c as U}from"./DialogFooter.vue_vue_type_script_setup_true_lang-LKNughBX.js";import{_ as n}from"./Input.vue_vue_type_script_setup_true_lang-fJ_qiyaF.js";import{_ as u}from"./Label.vue_vue_type_script_setup_true_lang-LL-Y3VtV.js";import{t as p}from"./plyr-PnWHwPQM.js";const w={class:"content"},F={class:"flex flex-col gap-4"},R={class:"space-y-2"},j={class:"space-y-2"},k={class:"space-y-2"},B={class:"space-y-2"},N={class:"space-y-2"},A={class:"space-y-2"},L=y({__name:"PostDialog",props:{asset:{}},emits:["updated"],setup(f,{emit:c}){const t=V({...f.asset}),_=c,v=async()=>{try{await g.post("",{method:"put",path:`projects/${t.value.projectId}/assets/${t.value.id}/publish`,body:{...t.value}}),p({variant:"info",title:"Datos guardados correctamente"})}catch(d){p({variant:"danger",title:"¡Ups! Algo salió mal.",description:d.response.data.message.join(`
`)})}finally{_("updated"),$.reload()}},b=x(()=>{var e,s,m;const d=t.value.model.npl;return(e=d.subasta)!=null&&e.isPublishable?"Subasta":(s=d.credito)!=null&&s.isPublishable?"Crédito":(m=d.remate)!=null&&m.isPublishable?"Remate":"-"});return(d,e)=>(C(),D(a(U),null,{default:i(()=>[l(a(I),null,{default:i(()=>[l(a(q),null,{default:i(()=>e[5]||(e[5]=[o(" ID cliente ")])),_:1})]),_:1}),r("div",w,[r("div",F,[r("div",R,[l(a(u),{for:"idCliente"},{default:i(()=>e[6]||(e[6]=[o("ID cliente")])),_:1}),l(a(n),{id:"idCliente",type:"text",placeholder:"ID cliente",class:"mt-2",disabled:"",required:"",modelValue:t.value.idCliente,"onUpdate:modelValue":e[0]||(e[0]=s=>t.value.idCliente=s)},null,8,["modelValue"])]),r("div",j,[l(a(u),{for:"idFencia"},{default:i(()=>e[7]||(e[7]=[o("ID fenlab")])),_:1}),l(a(n),{id:"idFencia",type:"text",placeholder:"ID fenlab",class:"mt-2",disabled:"",required:"",modelValue:t.value.idFencia,"onUpdate:modelValue":e[1]||(e[1]=s=>t.value.idFencia=s)},null,8,["modelValue"])]),r("div",k,[l(a(u),{for:"referenciaCatastral"},{default:i(()=>e[8]||(e[8]=[o("Referencia catastral")])),_:1}),l(a(n),{id:"referenciaCatastral",type:"text",placeholder:"Referencia catastral",disabled:"",class:"mt-2",required:"",modelValue:t.value.model.referenciaCatastral,"onUpdate:modelValue":e[2]||(e[2]=s=>t.value.model.referenciaCatastral=s)},null,8,["modelValue"])]),r("div",B,[l(a(u),{for:"min_price"},{default:i(()=>e[9]||(e[9]=[o("Precio mínimo (€)")])),_:1}),l(a(n),{id:"min_price",type:"text",placeholder:"Precio mínimo",class:"mt-2",required:"",modelValue:t.value.model.npl.credito.precioMinimo,"onUpdate:modelValue":e[3]||(e[3]=s=>t.value.model.npl.credito.precioMinimo=s)},null,8,["modelValue"])]),r("div",N,[l(a(u),{for:"reference_value"},{default:i(()=>e[10]||(e[10]=[o("Valor de referencia (€)")])),_:1}),l(a(n),{id:"reference_value",type:"text",placeholder:"Valor de referencia",disabled:"",class:"mt-2",required:"",modelValue:t.value.model.npl.precioReferencia,"onUpdate:modelValue":e[4]||(e[4]=s=>t.value.model.npl.precioReferencia=s),modelModifiers:{number:!0}},null,8,["modelValue"])]),r("div",A,[l(a(u),{for:"transaction_modality"},{default:i(()=>e[11]||(e[11]=[o("Modalidad de transacción")])),_:1}),l(a(n),{id:"transaction_modality",type:"text",placeholder:"Modalidad de transacción",class:"mt-2",required:"",value:b.value},null,8,["value"])])])]),l(a(M),{class:"flex justify-between mt-10"},{default:i(()=>[l(a(P),{class:"gap-1 w-full",variant:"green",size:"sm",onClick:v},{default:i(()=>e[12]||(e[12]=[o(" Publicar ")])),_:1})]),_:1})]),_:1}))}});export{L as _};
