import{d as y,r as V,I as A,o as d,c as _,w as t,a as e,u as a,e as o,b as r,g as D,z as U,t as P,v as p,x as c,F as k}from"./app-BrLXUGa-.js";import{f as M}from"./fenlab.api-DH54E58D.js";import{_ as C}from"./index-C4uJIvjD.js";import{_ as z,a as B}from"./DialogTrigger.vue_vue_type_script_setup_true_lang-3CQwxI6y.js";import{_ as I,a as h,b as H,c as N}from"./DialogFooter.vue_vue_type_script_setup_true_lang-DCHM-Mjr.js";import{_ as O}from"./Input.vue_vue_type_script_setup_true_lang-0Ryy-xlN.js";import{_ as W,a as j,b,c as f,d as q,e as m}from"./TableRow.vue_vue_type_script_setup_true_lang-DiFF9j9e.js";import{t as g}from"./plyr-BcVWgM7Y.js";const F={class:"content"},T={class:"flex flex-col gap-4"},G=["onUpdate:modelValue"],L=["onUpdate:modelValue"],ta=y({__name:"EditMasterData",props:{masterData:{type:Object,required:!0}},emits:["updated"],setup(x,{emit:v}){const w=x,i=V(!1),n=A({...w.masterData}),$=v,E=async()=>{try{await M.post("",{method:"post",path:"company-master-data",body:{...n}}),g({variant:"info",title:"Datos guardados correctamente"}),$("updated")}catch{g({variant:"danger",title:"¡Ups! Algo salió mal."})}finally{i.value=!1}};return(S,s)=>(d(),_(a(B),{open:i.value,"onUpdate:open":s[1]||(s[1]=l=>i.value=l)},{default:t(()=>[e(a(z),null,{default:t(()=>[e(a(C),{variant:"ghost",class:"text-blue text-sm font-medium",size:"sm"},{default:t(()=>s[2]||(s[2]=[o(" Editar ")])),_:1})]),_:1}),e(a(N),null,{default:t(()=>[e(a(I),null,{default:t(()=>[e(a(h),null,{default:t(()=>s[3]||(s[3]=[o(" Master data financiera ")])),_:1})]),_:1}),r("div",F,[r("div",T,[e(a(W),null,{default:t(()=>[e(a(j),null,{default:t(()=>[e(a(b),{class:"[&_th]:px-3 [&_th]:bg-white"},{default:t(()=>[e(a(f),{class:"!bg-[#ECECEC] w-[140px] z-50 relative"},{default:t(()=>s[4]||(s[4]=[o(" AÑO ")])),_:1}),e(a(f),null,{default:t(()=>s[5]||(s[5]=[o("IPC (%)")])),_:1}),e(a(f),null,{default:t(()=>s[6]||(s[6]=[o("HPA (%)")])),_:1})]),_:1})]),_:1}),e(a(q),null,{default:t(()=>[(d(!0),D(k,null,U(n.macro,l=>(d(),_(a(b),{class:"[&_td]:px-3 [&_td]:bg-white !border-t border-[#ECECEC]",key:l.ano},{default:t(()=>[e(a(m),{class:"!bg-[#ECECEC] font-bold w-[140px]"},{default:t(()=>[o(P(l.ano),1)]),_:2},1024),e(a(m),null,{default:t(()=>[p(r("input",{"onUpdate:modelValue":u=>l.IPC=u,class:"w-full h-full outline-none hover:bg-gray-100"},null,8,G),[[c,l.IPC]])]),_:2},1024),e(a(m),null,{default:t(()=>[p(r("input",{"onUpdate:modelValue":u=>l.HPA=u,class:"w-full h-full outline-none"},null,8,L),[[c,l.HPA]])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),e(a(O),{id:"wacc",type:"text",placeholder:"WACC - Coste de Capital",class:"mt-2",required:"",autofocus:"",autocomplete:"wacc",modelValue:n.WACC,"onUpdate:modelValue":s[0]||(s[0]=l=>n.WACC=l),modelModifiers:{number:!0}},null,8,["modelValue"])])]),e(a(H),{class:"flex justify-between mt-10"},{default:t(()=>[e(a(C),{class:"gap-1 w-full",variant:"green",size:"sm",onClick:E},{default:t(()=>s[7]||(s[7]=[o(" Guardar ")])),_:1})]),_:1})]),_:1})]),_:1},8,["open"]))}});export{ta as _};
