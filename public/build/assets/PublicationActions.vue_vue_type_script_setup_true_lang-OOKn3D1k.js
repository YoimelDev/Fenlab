import{_ as p}from"./index-JWr5CV_u.js";import{d as m,r as b,V as _,o as v,h as g,a as e,w as i,e as f,u as r}from"./app-BwhPGnvj.js";import{_ as w}from"./Dialog.vue_vue_type_script_setup_true_lang-D6j9TK9a.js";import{t as d}from"./plyr-CnNDfIlC.js";import{f as x}from"./fenlab.api-BsAu1BC4.js";import{_ as $}from"./NewPublicationDialog.vue_vue_type_script_setup_true_lang-BCsTgIts.js";const k={class:"flex gap-2"},z=m({__name:"PublicationActions",props:{publication:{}},setup(u){const l=u,o=b(!1),n=_("$loading");async function c(){const t=n==null?void 0:n.show();try{const{data:a}=await x.post("",{method:"get",path:`projects/${l.publication.projectId}/assets/${l.publication.id}`}),s=a.assetPdf.url;window.open(s,"_blank","noopener"),d({variant:"info",title:"Publicación descargada exitosamente"})}catch{d({variant:"danger",title:"Error al descargar la publicación"})}finally{t==null||t.hide()}}return(t,a)=>(v(),g("div",k,[e(r(p),{variant:"ghost",size:"xs",onClick:c},{default:i(()=>a[3]||(a[3]=[f(" Descargar ")])),_:1}),e(r(w),{open:o.value,"onUpdate:open":a[2]||(a[2]=s=>o.value=s)},{default:i(()=>[e(r(p),{variant:"ghost",size:"xs",onClick:a[0]||(a[0]=s=>o.value=!0)},{default:i(()=>a[4]||(a[4]=[f(" Publicar ")])),_:1}),e($,{asset:t.publication,onUpdated:a[1]||(a[1]=()=>o.value=!1)},null,8,["asset"])]),_:1},8,["open"])]))}});export{z as _};
