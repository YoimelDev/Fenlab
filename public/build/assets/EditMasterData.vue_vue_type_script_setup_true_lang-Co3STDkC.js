import{d as E,r as A,H as V,S as D,o as _,c as m,w as a,a as e,u as t,e as s,b as o,g as U,z as P,t as k,v as p,x as C,F as M}from"./app-DwUG-U8y.js";import{f as z}from"./fenlab.api-BtJVnAfv.js";import{_ as b}from"./index-D57I6Ekl.js";import{_ as B}from"./Dialog.vue_vue_type_script_setup_true_lang-BlRZ2V7W.js";import{_ as H}from"./DialogTrigger.vue_vue_type_script_setup_true_lang-Bv0AGLEg.js";import{_ as W,a as I,b as L,c as N}from"./DialogFooter.vue_vue_type_script_setup_true_lang-D9gqzF3H.js";import{_ as O}from"./Input.vue_vue_type_script_setup_true_lang-jX5lrdV-.js";import{_ as j,a as q,b as g,c,d as F,e as f}from"./TableRow.vue_vue_type_script_setup_true_lang-De1GWCSU.js";import{t as v}from"./plyr-DKoyQP4E.js";const S={class:"content"},T={class:"flex flex-col gap-4"},G=["onUpdate:modelValue"],J=["onUpdate:modelValue"],K={class:"space-y-2"},oa=E({__name:"EditMasterData",props:{masterData:{type:Object,required:!0}},emits:["updated"],setup(h,{emit:x}){const w=h,i=A(!1),n=V({...w.masterData}),$=x,y=async()=>{try{await z.post("",{method:"post",path:"company-master-data",body:{...n}}),v({variant:"info",title:"Datos guardados correctamente"}),$("updated")}catch{v({variant:"danger",title:"¡Ups! Algo salió mal."})}finally{i.value=!1}};return(Q,u)=>{const r=D("Label");return _(),m(t(B),{open:i.value,"onUpdate:open":u[1]||(u[1]=l=>i.value=l)},{default:a(()=>[e(t(H),null,{default:a(()=>[e(t(b),{variant:"ghost",class:"text-blue text-sm font-medium",size:"sm"},{default:a(()=>[s(" Editar ")]),_:1})]),_:1}),e(t(N),null,{default:a(()=>[e(t(W),null,{default:a(()=>[e(t(I),null,{default:a(()=>[s(" Master data financiera ")]),_:1})]),_:1}),o("div",S,[o("div",T,[e(t(j),null,{default:a(()=>[e(t(q),null,{default:a(()=>[e(t(g),{class:"[&_th]:px-3 [&_th]:bg-white"},{default:a(()=>[e(t(c),{class:"!bg-[#ECECEC] w-[140px] z-50 relative"},{default:a(()=>[e(r,null,{default:a(()=>[s("AÑO")]),_:1})]),_:1}),e(t(c),null,{default:a(()=>[e(r,null,{default:a(()=>[s("IPC (%)")]),_:1})]),_:1}),e(t(c),null,{default:a(()=>[e(r,null,{default:a(()=>[s("HPA (%)")]),_:1})]),_:1})]),_:1})]),_:1}),e(t(F),null,{default:a(()=>[(_(!0),U(M,null,P(n.macro,l=>(_(),m(t(g),{class:"[&_td]:px-3 [&_td]:bg-white !border-t border-[#ECECEC]",key:l.ano},{default:a(()=>[e(t(f),{class:"!bg-[#ECECEC] font-bold w-[140px]"},{default:a(()=>[s(k(l.ano),1)]),_:2},1024),e(t(f),null,{default:a(()=>[p(o("input",{"onUpdate:modelValue":d=>l.IPC=d,class:"w-full h-full outline-none hover:bg-gray-100"},null,8,G),[[C,l.IPC]])]),_:2},1024),e(t(f),null,{default:a(()=>[p(o("input",{"onUpdate:modelValue":d=>l.HPA=d,class:"w-full h-full outline-none"},null,8,J),[[C,l.HPA]])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),o("div",K,[e(r,{for:"wacc"},{default:a(()=>[s("WACC - Coste de Capital")]),_:1}),e(t(O),{id:"wacc",type:"text",placeholder:"WACC - Coste de Capital",class:"mt-2",required:"",autofocus:"",autocomplete:"wacc",modelValue:n.WACC,"onUpdate:modelValue":u[0]||(u[0]=l=>n.WACC=l),modelModifiers:{number:!0}},null,8,["modelValue"])])])]),e(t(L),{class:"flex justify-between mt-10"},{default:a(()=>[e(t(b),{class:"gap-1 w-full",variant:"green",size:"sm",onClick:y},{default:a(()=>[s(" Guardar ")]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])}}});export{oa as _};
