import{d as y,r as _,T as g,g as x,o as m,h as C,a as t,u as s,w as i,Z as k,b as o,e as d,c as p,n as $,f as V,F as P,i as B,j as E}from"./app-BTUYw8fW.js";import{_ as T}from"./GuestLayout.vue_vue_type_script_setup_true_lang-BRkpmeSH.js";import{_ as j}from"./InputError.vue_vue_type_script_setup_true_lang-BXGKMLB4.js";import{_ as F}from"./index-BcLYc6QP.js";import{_ as f}from"./Input.vue_vue_type_script_setup_true_lang-DhtK6SNn.js";import{_ as c}from"./Label.vue_vue_type_script_setup_true_lang-Cd8eX0sb.js";import{_ as N}from"./index-DnG9wz1U.js";import{u as A}from"./plyr-BRU_dRHD.js";import{r as U,a as q}from"./EyeOpenIcon-CouQQpJO.js";import"./FenlabLogo-D_2of-W2.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-DmrjjnWz.js";import"./index-Bb4qSo10.js";import"./index-D-QhEMKT.js";import"./Cross2Icon-DD-9M8u5.js";const z={class:"mt-4"},D={class:"relative w-full items-center"},I={type:"button",class:"absolute end-0 inset-y-0 flex items-center justify-center px-2"},K={class:"flex items-center justify-end mt-4"},se=y({__name:"CreatePassword",props:{email:{},token:{}},setup(w){const b=w,{toast:u}=A(),r=_(!1),a=g({email:x("email"),password:"",token:b.token}),v=async()=>{document.body.style.cursor="wait",a.processing=!0;try{await B.post(route("create-password"),a.data(),{headers:{API_KEY:"2f78cbaa-3bfb-4a8b-9cd4-75f17558a7b9"}}),u({variant:"info",title:"¡Contraseña creada!"}),setTimeout(()=>{E.visit("/login")},2e3)}catch(l){u({variant:"danger",title:"¡Ups! Algo salió mal.",description:l.response.data.message})}finally{document.body.style.cursor="default",a.processing=!1,a.reset()}};return(l,e)=>(m(),C(P,null,[t(s(N)),t(T,null,{default:i(()=>[t(s(k),{title:"Create Password"}),e[7]||(e[7]=o("div",{class:"mb-4 text-sm text-gray-600"}," Crear una contraseña para tu cuenta. ",-1)),o("form",{onSubmit:V(v,["prevent"])},[o("div",null,[t(s(c),{for:"email"},{default:i(()=>e[3]||(e[3]=[d("Email")])),_:1}),t(s(f),{id:"email",type:"email",placeholder:"Email",class:"mt-2","default-value":l.email,value:l.email,disabled:""},null,8,["default-value","value"])]),o("div",z,[t(s(c),{for:"password"},{default:i(()=>e[4]||(e[4]=[d("Contraseña")])),_:1}),o("div",D,[t(s(f),{id:"password",type:r.value?"text":"password",placeholder:"Contraseña",class:"mt-2",modelValue:s(a).password,"onUpdate:modelValue":e[0]||(e[0]=n=>s(a).password=n),required:"",autocomplete:"current-password"},null,8,["type","modelValue"]),o("button",I,[r.value?(m(),p(s(U),{key:0,class:"w-5 h-5 text-[#697077] cursor-pointer",onClick:e[1]||(e[1]=n=>r.value=!1)})):(m(),p(s(q),{key:1,class:"w-5 h-5 text-[#697077] cursor-pointer",onClick:e[2]||(e[2]=n=>r.value=!0)}))])]),e[5]||(e[5]=o("span",{class:"text-[#697077] text-xs leading-4"}," Debe ser una combinación de mínimo 8 letras, números y símbolos. ",-1)),t(j,{class:"mt-2 ml-4",message:s(a).errors.password},null,8,["message"])]),o("div",K,[t(s(F),{class:$({"opacity-25":s(a).processing}),disabled:s(a).processing},{default:i(()=>e[6]||(e[6]=[d(" Crear contraseña ")])),_:1},8,["class","disabled"])])],32)]),_:1})],64))}});export{se as default};
